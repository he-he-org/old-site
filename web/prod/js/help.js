!function e(n,t,o){function r(a,u){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return r(t?t:e)},c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-help.js":[function(e,n,t){"use strict";function o(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function r(e){return e&&e.__esModule?e:{"default":e}}var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a=e("promise-polyfill"),u=r(a),s=e("redux"),p=e("react-markup"),c=e("react-dom"),d=r(c),f=e("./shared/main-donate-form/action-creators"),l=e("./shared/main-donate-form/main-donate-form"),m=r(l),h=e("./shared/main-donate-form/reducer"),y=r(h),O=e("./help/donate/donate-info"),v=r(O),T=e("./i18n"),_=r(T),g=e("./shared/definitions"),b=e("./help/packages"),P=o(b);e("is-nan").shim(),new u["default"](function(e){document.addEventListener("DOMContentLoaded",e)}).then(function(){return _["default"].create({strings:["help/donate/donate-button-title","help/donate/provider-options/ym","help/donate/amount-options/other-amount","help/main-donation-form/money-template","help/donate/info/for-us/title","help/donate/info/for-them/title","help/donate/info/300/for-us/options/1","help/donate/info/300/for-us/options/2","help/donate/info/300/for-us/options/3","help/donate/info/300/for-them/options/1","help/donate/info/500/for-us/options/1","help/donate/info/500/for-us/options/2","help/donate/info/500/for-us/options/3","help/donate/info/500/for-them/options/1","help/donate/info/1000/for-us/options/1","help/donate/info/1000/for-us/options/2","help/donate/info/1000/for-them/options/1","help/donate/info/1000/for-them/options/2","help/donate/info/1000/for-them/options/3","help/donate/formcomment","help/donate/short-dest","help/donate/targets"],texts:[]})}).then(function(e){var n=e.detectLanguage(),t=n===g.LanguageType.RU?g.ProvideType.YANDEX_MONEY:g.ProvideType.PAYPAL,o=n===g.LanguageType.RU?g.CurrencyType.RUR:g.CurrencyType.USD,r={provider:t,currency:o,amountOption:g.AmountOptionType.OPTION_SUM_2,amount:g.currencyOptionsToAmount[o][g.AmountOptionType.OPTION_SUM_2],targets:e.t("strings","help/donate/targets"),formComment:e.t("strings","help/donate/formcomment"),shortDesc:e.t("strings","help/donate/short-dest")},a=(0,s.createStore)(y["default"],r),u=function(e){a.dispatch((0,f.setProvider)(e))},c=function(e){a.dispatch((0,f.setCurrency)(e))},l=function(e){a.dispatch((0,f.setAmountOption)(e))},h=function(e){a.dispatch((0,f.setAmount)(e))},O=document.querySelector("#react-main-donation-form"),T=document.querySelector("#react-donate-info"),_=function(){var n=a.getState();O&&d["default"].render((0,p.h)(m["default"],i({i18n:e,onChangeProvider:u,onChangeCurrency:c,onChangeAmountOption:l,onChangeAmount:h},n)),O),T&&d["default"].render((0,p.h)(v["default"],i({i18n:e},n)),T)};a.subscribe(_),_(),P.run(e)})["catch"](function(e){console.error(e)});var U=5;document.addEventListener("DOMContentLoaded",function(){Array.prototype.slice.apply(document.querySelectorAll(".category-menu")).forEach(function(e){var n=function(){Array.prototype.slice.apply(e.querySelectorAll(".category-menu_item")).forEach(function(e){var n=new URL(e.getAttribute("href"),window.location);n.href===location.href?e.classList.add("category-menu_item--active"):e.classList.remove("category-menu_item--active")})};window.addEventListener("hashchange",n,!1),n();var t=e.querySelector(".category-menu_body"),o=function(){var n=document.body.getBoundingClientRect(),o=e.getBoundingClientRect(),r=o.top-n.top,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=Math.max(i-r+U,0);t.style.top=a+"px"};document.addEventListener("scroll",o),o()})})},{"./help/donate/donate-info":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/help/donate/donate-info.js","./help/packages":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/help/packages.js","./i18n":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/i18n.js","./shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","./shared/main-donate-form/action-creators":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/action-creators.js","./shared/main-donate-form/main-donate-form":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/main-donate-form.js","./shared/main-donate-form/reducer":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/reducer.js","is-nan":"is-nan","promise-polyfill":"promise-polyfill","react-dom":"react-dom","react-markup":"react-markup",redux:"redux"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/help/donate/donate-info.js":[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(t,"__esModule",{value:!0});var s,p=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),c=e("react"),d=e("react-markup"),f=e("../../shared/definitions"),l=e("bem-prefixer"),m=o(l),h=f.CurrencyType.RUR,y=f.CurrencyType.USD,O=f.CurrencyType.EUR,v=f.AmountOptionType.OPTION_OTHER,T=(0,m["default"])("section-donate-info"),_=(s={},u(s,f.AmountOptionType.OPTION_SUM_1,{forUs:["help/donate/info/300/for-us/options/1","help/donate/info/300/for-us/options/2","help/donate/info/300/for-us/options/3"],forThem:["help/donate/info/300/for-them/options/1"]}),u(s,f.AmountOptionType.OPTION_SUM_2,{forUs:["help/donate/info/500/for-us/options/1","help/donate/info/500/for-us/options/2","help/donate/info/500/for-us/options/3"],forThem:["help/donate/info/500/for-them/options/1"]}),u(s,f.AmountOptionType.OPTION_SUM_3,{forUs:["help/donate/info/1000/for-us/options/1","help/donate/info/1000/for-us/options/2"],forThem:["help/donate/info/1000/for-them/options/1","help/donate/info/1000/for-them/options/2","help/donate/info/1000/for-them/options/3"]}),s),g=function(e){return e[Math.floor(Math.random()*e.length)]},b=function(e){function n(){var e,t,o,a;r(this,n);for(var u=arguments.length,s=Array(u),p=0;p<u;p++)s[p]=arguments[p];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),o.getCurrencySign=function(e){if(e===h)return"₽";if(e===y)return"$";if(e===O)return"€";throw new Error("Currency isn't supported: "+e)},o.formatMoney=function(e,n){var t=o.props.i18n;return t.t("strings","help/main-donation-form/money-template").replace(/\{amount\}/g,e).replace(/\{currency\}/g,o.getCurrencySign(n))},a=t,i(o,a)}return a(n,e),p(n,[{key:"render",value:function(){var e=this.props.i18n,n=this.props,t=n.amountOption,o=n.amount,r=n.currency;return t===v?(0,d.h)(T("div"),(0,d.h)(T("div#block"))):(0,d.h)(T("div"),(0,d.h)(T("div#block"),(0,d.h)(T("div#amount"),this.formatMoney(o,r)),(0,d.h)(T("div#title"),e.t("strings","help/donate/info/for-us/title")),(0,d.h)(T("div#desc-container"),(0,d.h)(T("div#desc"),e.t("strings",g(_[t].forUs)))),(0,d.h)(T("div#title"),e.t("strings","help/donate/info/for-them/title")),(0,d.h)(T("div#desc-container"),(0,d.h)(T("div#desc"),e.t("strings",g(_[t].forThem))))))}}]),n}(c.Component);t["default"]=b},{"../../shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/help/packages.js":[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.run=void 0;var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i=e("react-dom"),a=o(i),u=e("react-markup"),s=e("redux"),p=e("../shared/main-donate-form/main-donate-form"),c=o(p),d=e("../shared/main-donate-form/reducer"),f=o(d),l=e("../shared/donate-modal"),m=o(l),h=e("../shared/definitions"),y=e("../shared/main-donate-form/action-creators");e("is-nan").shim();t.run=function(e){var n=e.detectLanguage(),t=n===h.LanguageType.RU?h.CurrencyType.RUR:h.CurrencyType.USD,o=n===h.LanguageType.RU?h.ProvideType.YANDEX_MONEY:h.ProvideType.PAYPAL,i={provider:o,currency:t,amountOption:h.AmountOptionType.OPTION_SUM_2,amount:h.currencyOptionsToAmount[t][h.AmountOptionType.OPTION_SUM_2],targets:e.t("strings","help/donate/targets"),formComment:e.t("strings","help/donate/formcomment"),shortDesc:e.t("strings","help/donate/short-dest")},p={displayed:!1},d=function(){var e=arguments.length<=0||void 0===arguments[0]?p:arguments[0],n=arguments[1];switch(n.type){case"SET_MODAL_DISPLAYED":return r({},e,{displayed:n.displayed});default:return e}},l=(0,s.createStore)((0,s.combineReducers)({mainDonationForm:f["default"],modal:d}),{mainDonationForm:i,modal:p}),O=function(){var n=function(){l.dispatch({type:"SET_MODAL_DISPLAYED",displayed:!1})},t=function(e){l.dispatch((0,y.setProvider)(e))},o=function(e){l.dispatch((0,y.setCurrency)(e))},i=function(e){l.dispatch((0,y.setAmountOption)(e))},s=function(e){l.dispatch((0,y.setAmount)(e))},p=l.getState(),d=p.modal,f=p.mainDonationForm;a["default"].render((0,u.h)(m["default"],r({},d,{onClose:n}),(0,u.h)(c["default"],r({i18n:e,onChangeProvider:t,onChangeCurrency:o,onChangeAmountOption:i,onChangeAmount:s},f))),document.querySelector("#react-popup-entry"))};l.subscribe(O),O(),Array.prototype.slice.apply(document.querySelectorAll(".packages .package")).forEach(function(e){if(n!==h.LanguageType.RU){var r=e.querySelector("input[name=sum]"),i=e.querySelector("button[type=submit]"),a=parseInt(r.value,10);500===a?(r.value=20,i.textContent=i.textContent.replace("500 ₽","$20")):1e3===a?(r.value=50,i.textContent=i.textContent.replace("1000 ₽","$50")):2e3===a&&(r.value=100,i.textContent=i.textContent.replace("2000 ₽","$100"))}e.addEventListener("submit",function(n){n.preventDefault(),l.dispatch((0,y.setAmount)(o)),l.dispatch((0,y.setProvider)(o)),l.dispatch((0,y.setCurrency)(t)),l.dispatch((0,y.setAmount)(parseInt(e.querySelector("input[name=sum]").value,10))),l.dispatch((0,y.setTargets)(e.querySelector("input[name=formcomment]").value)),l.dispatch((0,y.setFormComment)(e.querySelector("input[name=short-dest]").value)),l.dispatch((0,y.setShortDesc)(e.querySelector("input[name=targets]").value)),l.dispatch({type:"SET_MODAL_DISPLAYED",displayed:!0})})})}},{"../shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","../shared/donate-modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/donate-modal.js","../shared/main-donate-form/action-creators":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/action-creators.js","../shared/main-donate-form/main-donate-form":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/main-donate-form.js","../shared/main-donate-form/reducer":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/reducer.js","is-nan":"is-nan","react-dom":"react-dom","react-markup":"react-markup",redux:"redux"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/i18n.js":[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),u=e("promise-polyfill"),s=o(u),p=e("./shared/definitions"),c=function(){function e(n){r(this,e),this.data=n}return a(e,[{key:"detectLanguage",value:function(){return e.detectLanguage()}},{key:"t",value:function(e,n){var t=this.data[e];if("undefined"==typeof t)throw new Error("Wrong category "+e);if(!(n in t))throw new Error("Wrong key: "+e+"/"+n);return t[n]}},{key:"param",value:function(e,n){return this.params[e]?this.params[e]:n}}],[{key:"create",value:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i({},n,{language:e.detectLanguage()});return new s["default"](function(n,o){var r=new XMLHttpRequest;r.addEventListener("load",function(){var t=200;r.status===t?n(new e(JSON.parse(r.responseText))):o(r.responseText)}),r.addEventListener("error",function(){o(r.responseText)}),r.open("POST","/translations"),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(t))})}},{key:"detectLanguage",value:function(){return/^(\/en$)|(\/en\/)/.test(window.location.pathname)?p.LanguageType.EN:/^(\/es$)|(\/es\/)/.test(window.location.pathname)?p.LanguageType.ES:p.LanguageType.RU}}]),e}();t["default"]=c},{"./shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","promise-polyfill":"promise-polyfill"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js":[function(e,n,t){"use strict";function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(t,"__esModule",{value:!0});var r,i,a,u,s={EN:"en-US",RU:"ru-RU",ES:"es-ES"},p={YANDEX_MONEY:"YANDEX_MONEY",PAYPAL:"PAYPAL"},c={ACCOUNT:"ACCOUNT",CARD:"CARD"},d={RUR:"RUR",USD:"USD",EUR:"EUR"},f={OPTION_SUM_1:"OPTION_SUM_1",OPTION_SUM_2:"OPTION_SUM_2",OPTION_SUM_3:"OPTION_SUM_3",OPTION_OTHER:"OPTION_OTHER"},l=(u={},o(u,d.RUR,(r={},o(r,f.OPTION_SUM_1,300),o(r,f.OPTION_SUM_2,500),o(r,f.OPTION_SUM_3,1e3),r)),o(u,d.USD,(i={},o(i,f.OPTION_SUM_1,10),o(i,f.OPTION_SUM_2,20),o(i,f.OPTION_SUM_3,50),i)),o(u,d.EUR,(a={},o(a,f.OPTION_SUM_1,10),o(a,f.OPTION_SUM_2,20),o(a,f.OPTION_SUM_3,50),a)),u);t.LanguageType=s,t.ProvideType=p,t.MethodType=c,t.CurrencyType=d,t.AmountOptionType=f,t.currencyOptionsToAmount=l},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/donate-modal.js":[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=e("react"),p=e("react-markup"),c=e("bem-prefixer"),d=o(c),f=(0,d["default"])("donate-modal"),l=function(e){function n(){var e,t,o,a;r(this,n);for(var u=arguments.length,s=Array(u),p=0;p<u;p++)s[p]=arguments[p];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),o.componentDidMount=function(){window.addEventListener("keydown",function(e){if(o.props.displayed){var n=27;e.keyCode===n&&o.props.onClose()}})},a=t,i(o,a)}return a(n,e),u(n,[{key:"render",value:function(){var e=this.props.displayed,n=this.props.onClose,t=e?[]:["hidden"];return(0,p.h)(f("div",t),(0,p.h)(f("div#content"),this.props.children),(0,p.h)(f("div#background"),{onClick:n}))}}]),n}(s.Component);t["default"]=l},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/action-creators.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setProvider=function(e){return{type:"SET_PROVIDER",provider:e}},t.setCurrency=function(e){return{type:"SET_CURRENCY",currency:e}},t.setAmountOption=function(e){return{type:"SET_AMOUNT_OPTION",amountOption:e}},t.setAmount=function(e){return{type:"SET_AMOUNT",amount:e}},t.setTargets=function(e){return{type:"SET_TARGETS",targets:e}},t.setFormComment=function(e){return{type:"SET_FORM_COMMENT",formComment:e}},t.setShortDesc=function(e){return{type:"SET_SHORT_DESC",shortDesc:e}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/main-donate-form.js":[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),p=e("react"),c=e("react-markup"),d=e("bem-prefixer"),f=o(d),l=e("../definitions"),m=e("../utils"),h=l.ProvideType.YANDEX_MONEY,y=l.ProvideType.PAYPAL,O=l.CurrencyType.RUR,v=l.CurrencyType.USD,T=l.CurrencyType.EUR,_=l.AmountOptionType.OPTION_SUM_1,g=l.AmountOptionType.OPTION_SUM_2,b=l.AmountOptionType.OPTION_SUM_3,P=l.AmountOptionType.OPTION_OTHER,U="https://money.yandex.ru/quickpay/confirm.xml",S="410012180500847",A="donate",C="PC",j="/paypal",E=(0,f["default"])("main-donate-form"),M=function(e){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,p=Array(s),d=0;d<s;d++)p[d]=arguments[d];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(p))),o.formatMoney=function(e,n){var t=o.props.i18n;return t.t("strings","help/main-donation-form/money-template").replace(/\{amount\}/g,e).replace(/\{currency\}/g,(0,m.getCurrencySign)(n))},o.handleChangeAmount=function(e){var n=e.target.value;/^[0-9]*$/.test(n)&&o.props.onChangeAmount(Number(n))},o.renderProviderOptions=function(){var e=o.props,n=e.i18n,t=e.provider,r=e.onChangeProvider;return(0,c.h)(E("div#options"),(0,c.h)(E("div","option",t===h?["active"]:[]),{onClick:r.bind(null,l.ProvideType.YANDEX_MONEY)},n.t("strings","help/donate/provider-options/ym")),(0,c.h)(E("div","option",t===y?["active"]:[]),{onClick:r.bind(null,l.ProvideType.PAYPAL)},"PayPal"))},o.renderCurrencyOptions=function(){var e=o.props,n=e.currency,t=e.provider,r=e.onChangeCurrency;return t===y?(0,c.h)(E("div#options"),(0,c.h)(E("div","option",n===O?["active"]:[]),{onClick:r.bind(null,O)},(0,m.getCurrencySign)(O)),(0,c.h)(E("div","option",n===v?["active"]:[]),{onClick:r.bind(null,v)},(0,m.getCurrencySign)(v)),(0,c.h)(E("div","option",n===T?["active"]:[]),{onClick:r.bind(null,T)},(0,m.getCurrencySign)(T))):null},o.renderAmountOptions=function(){var e=o.props,n=e.i18n,t=e.currency,r=e.amountOption,i=e.onChangeAmountOption;return(0,c.h)(E("div#options"),(0,c.h)(E("div","option",r===_?["active"]:[]),{onClick:i.bind(null,_)},l.currencyOptionsToAmount[t][_]),(0,c.h)(E("div","option",r===g?["active"]:[]),{onClick:i.bind(null,g)},l.currencyOptionsToAmount[t][g]),(0,c.h)(E("div","option",r===b?["active"]:[]),{onClick:i.bind(null,b)},l.currencyOptionsToAmount[t][b]),(0,c.h)(E("div","option",r===P?["active"]:[]),{onClick:i.bind(null,P)},n.t("strings","help/donate/amount-options/other-amount")))},o.renderAmount=function(){var e=o.props,n=e.i18n,t=e.amount,r=e.amountOption,i=e.currency;if(r!==l.AmountOptionType.OPTION_OTHER)return(0,c.h)(E("div#amount-info"),(0,c.h)(E("div#amount"),o.formatMoney(t,i)));var a=function(){var e=n.t("strings","help/main-donation-form/money-template").replace(/ /g," "),r=e.split("{amount}"),a=[];return r.forEach(function(e,n){0!==n&&a.push((0,c.h)("input",{value:t,size:4,onChange:o.handleChangeAmount})),a.push(e.replace("{currency}",(0,m.getCurrencySign)(i)))}),{v:(0,c.h)(E("div#amount-info"),c.h.apply(void 0,[E("div#amount-input")].concat(a)))}}();return"object"===("undefined"==typeof a?"undefined":u(a))?a.v:void 0},o.renderYandexForm=function(){var e=o.props,n=e.i18n,t=e.amount,r=e.targets,i=e.formComment,a=e.shortDesc;return(0,c.h)(E("form#form"),{action:U},(0,c.h)("input",{type:"hidden",name:"sum",value:t}),(0,c.h)("input",{type:"hidden",name:"receiver",value:S}),(0,c.h)("input",{type:"hidden",name:"formcomment",value:i}),(0,c.h)("input",{type:"hidden",name:"short-dest",value:a}),(0,c.h)("input",{type:"hidden",name:"quickpay-form",value:A}),(0,c.h)("input",{type:"hidden",name:"targets",value:r}),(0,c.h)("input",{type:"hidden",name:"paymentType",value:C}),(0,c.h)(E("button#submit"),n.t("strings","help/donate/donate-button-title")))},o.renderPaypalForm=function(){var e=o.props,n=e.i18n,t=e.amount,r=e.currency,i=r;if(r===O)i="RUB";else if(r===v)i="USD";else{if(r!==T)throw new Error("Currency isn't supported: "+r);i="EUR"}return(0,c.h)(E("form#form"),{action:j},(0,c.h)("input",{type:"hidden",name:"amount",value:t}),(0,c.h)("input",{type:"hidden",name:"currency",value:i}),(0,c.h)(E("button#submit"),n.t("strings","help/donate/donate-button-title")))},o.renderButton=function(){var e=o.props.provider;if(e===h)return o.renderYandexForm();if(e===y)return o.renderPaypalForm();throw new Error("Wrong provider value: "+e)},a=t,i(o,a)}return a(n,e),s(n,[{key:"render",value:function(){return(0,c.h)(E("div"),this.renderProviderOptions(),this.renderCurrencyOptions(),this.renderAmountOptions(),this.renderAmount(),this.renderButton())}}]),n}(p.Component);t["default"]=M},{"../definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","../utils":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/utils.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/reducer.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=e("../definitions"),i={provider:r.ProvideType.YANDEX_MONEY,currency:r.CurrencyType.RUR,amountOption:r.AmountOptionType.OPTION_SUM_2,amount:r.currencyOptionsToAmount[r.CurrencyType.RUR][r.AmountOptionType.OPTION_SUM_2],targets:"",formComment:"",shortDesc:""},a=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],n=arguments[1];switch(n.type){case"SET_PROVIDER":var t=n.provider,a=e.amountOption,u=t===r.ProvideType.YANDEX_MONEY?r.CurrencyType.RUR:e.currency,s=null;return s=a===r.AmountOptionType.OPTION_SUM_1?r.currencyOptionsToAmount[u][a]:a===r.AmountOptionType.OPTION_SUM_2?r.currencyOptionsToAmount[u][a]:a===r.AmountOptionType.OPTION_SUM_3?r.currencyOptionsToAmount[u][a]:e.amount,o({},e,{provider:t,currency:u,amount:s});case"SET_CURRENCY":var p=e.provider;if(p===r.ProvideType.PAYPAL){var c=n.currency,d=e.amountOption,f=d===r.AmountOptionType.OPTION_OTHER?e.amount:r.currencyOptionsToAmount[c][d];return o({},e,{currency:c,amount:f})}return e;case"SET_AMOUNT_OPTION":var l=n.amountOption,m=e.currency,h=null;return h=l===r.AmountOptionType.OPTION_SUM_1?r.currencyOptionsToAmount[m][l]:l===r.AmountOptionType.OPTION_SUM_2?r.currencyOptionsToAmount[m][l]:l===r.AmountOptionType.OPTION_SUM_3?r.currencyOptionsToAmount[m][l]:e.amount,o({},e,{amountOption:l,amount:h});case"SET_AMOUNT":var y=n.amount,O=e.currency,v=null;return v=y===r.currencyOptionsToAmount[O][r.AmountOptionType.OPTION_SUM_1]?r.AmountOptionType.OPTION_SUM_1:y===r.currencyOptionsToAmount[O][r.AmountOptionType.OPTION_SUM_2]?r.AmountOptionType.OPTION_SUM_2:y===r.currencyOptionsToAmount[O][r.AmountOptionType.OPTION_SUM_3]?r.AmountOptionType.OPTION_SUM_3:r.AmountOptionType.OPTION_OTHER,o({},e,{amountOption:v,amount:y});case"SET_TARGETS":var T=n.targets;return o({},e,{targets:T});case"SET_FORM_COMMENT":var _=n.formComment;return o({},e,{formComment:_});case"SET_SHORT_DESC":var g=n.shortdesc;return o({},e,{shortdesc:g});default:return e}};t["default"]=a},{"../definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/utils.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrencySign=void 0;var o=e("./definitions"),r=o.CurrencyType.RUR,i=o.CurrencyType.USD,a=o.CurrencyType.EUR;t.getCurrencySign=function(e){if(e===r)return"₽";if(e===i)return"$";if(e===a)return"€";throw new Error("Currency isn't supported: "+e)}},{"./definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js"}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-help.js"]);