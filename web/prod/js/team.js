!function e(n,t,r){function o(u,a){if(!t[u]){if(!n[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var p=t[u]={exports:{}};n[u][0].call(p.exports,function(e){var t=n[u][1][e];return o(t?t:e)},p,p.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-team.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=e("promise-polyfill"),u=r(i),a=e("react-dom"),s=r(a),c=e("react-markup"),p=e("redux"),d=e("./redux-dom-binding"),f=e("functional-utils"),l=e("./i18n"),m=r(l),h=e("./shared/main-donate-form/main-donate-form"),y=r(h),O=e("./shared/main-donate-form/reducer"),v=r(O),T=e("./shared/donate-modal"),_=r(T),g=e("./shared/definitions"),b=e("./shared/main-donate-form/action-creators"),U=e("./shared/utils");e("is-nan").shim(),new u["default"](function(e){document.addEventListener("DOMContentLoaded",e)}).then(function(){return m["default"].create({strings:["help/donate/donate-button-title","help/donate/provider-options/ym","help/donate/amount-options/other-amount","help/main-donation-form/money-template","help/donate/info/for-us/title","help/donate/info/for-them/title","help/donate/info/300/for-us/options/1","help/donate/info/300/for-us/options/2","help/donate/info/300/for-us/options/3","help/donate/info/300/for-them/options/1","help/donate/info/500/for-us/options/1","help/donate/info/500/for-us/options/2","help/donate/info/500/for-us/options/3","help/donate/info/500/for-them/options/1","help/donate/info/1000/for-us/options/1","help/donate/info/1000/for-us/options/2","help/donate/info/1000/for-them/options/1","help/donate/info/1000/for-them/options/2","help/donate/info/1000/for-them/options/3","help/donate/formcomment","help/donate/short-dest","help/donate/targets","widgets/shared/main-donate-form/targets","widgets/shared/main-donate-form/formcomment","widgets/shared/main-donate-form/short-dest"],texts:[]})}).then(function(e){var n=e.detectLanguage(),t=n===g.LanguageType.RU?g.CurrencyType.RUR:g.CurrencyType.USD,r=n===g.LanguageType.RU?g.ProvideType.YANDEX_MONEY:g.ProvideType.PAYPAL,i={provider:r,currency:t,amountOption:g.AmountOptionType.OPTION_SUM_2,amount:g.currencyOptionsToAmount[t][g.AmountOptionType.OPTION_SUM_2],targets:e.t("strings","help/donate/targets"),formComment:e.t("strings","help/donate/formcomment"),shortDesc:e.t("strings","help/donate/short-dest")},u={displayed:!1},a=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],n=arguments[1];switch(n.type){case"SET_MODAL_DISPLAYED":return o({},e,{displayed:n.displayed});default:return e}},l=(0,p.createStore)((0,p.combineReducers)({mainDonationForm:v["default"],modal:a}),{mainDonationForm:i,modal:u}),m=function(){var n=function(){l.dispatch({type:"SET_MODAL_DISPLAYED",displayed:!1})},t=function(e){l.dispatch((0,b.setProvider)(e))},r=function(e){l.dispatch((0,b.setCurrency)(e))},i=function(e){l.dispatch((0,b.setAmountOption)(e))},u=function(e){l.dispatch((0,b.setAmount)(e))},a=l.getState(),p=a.modal,d=a.mainDonationForm;s["default"].render((0,c.h)(_["default"],o({},p,{onClose:n}),(0,c.h)(y["default"],o({i18n:e,onChangeProvider:t,onChangeCurrency:r,onChangeAmountOption:i,onChangeAmount:u},d))),document.querySelector("#react-popup-entry"))};l.subscribe(m),m();var h={value:g.currencyOptionsToAmount[t][g.AmountOptionType.OPTION_SUM_3],focused:!1},O=function(){var e=arguments.length<=0||void 0===arguments[0]?h:arguments[0],n=arguments[1];switch(n.type){case"DOM_FOCUS":return(0,f.merge)(e,{focused:!0});case"DOM_BLUR":return(0,f.merge)(e,{focused:!1});case"DOM_INPUT":var t=Number(n.text);return Number.isNaN(t)?e:(0,f.merge)(e,{value:t});default:return e}};Array.prototype.slice.apply(document.querySelectorAll(".widget-main-donate-form")).forEach(function(n){var o=n.querySelector(".widget-main-donate-form_form"),i=n.querySelector(".widget-main-donate-form_tips"),u=n.querySelector(".widget-main-donate-form_amount"),a=n.querySelector(".widget-main-donate-form_donate-button"),s=o.querySelector("input[name=sum]"),c=i.innerText,f=(0,p.createStore)(O),m=function(){var e=f.getState(),n=e.value,r=e.focused,o=.005,p=n-n*(o/(1+o)),d=n-p;r?u.value=n:t===g.CurrencyType.RUR?u.value=n+"Â "+(0,U.getCurrencySign)(t):u.value=(0,U.getCurrencySign)(t)+n,a.disabled=!(n>0),t===g.CurrencyType.RUR&&(i.innerText=c.replace("{amount}",p.toFixed(2)).replace("{fee}",d.toFixed(2)),i.classList.remove("hidden")),s.value=n};f.subscribe(m),m(),(0,d.bindEvents)(u,["input","focus","blur"],f),o.addEventListener("submit",function(n){n.preventDefault();var o=f.getState(),i=o.value;l.dispatch((0,b.setProvider)(r)),l.dispatch((0,b.setCurrency)(t)),l.dispatch((0,b.setAmount)(i)),l.dispatch((0,b.setTargets)(e.t("strings","widgets/shared/main-donate-form/targets"))),l.dispatch((0,b.setFormComment)(e.t("strings","widgets/shared/main-donate-form/formcomment"))),l.dispatch((0,b.setShortDesc)(e.t("strings","widgets/shared/main-donate-form/short-dest"))),l.dispatch({type:"SET_MODAL_DISPLAYED",displayed:!0})})})})["catch"](function(e){console.error(e)})},{"./i18n":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/i18n.js","./redux-dom-binding":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js","./shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","./shared/donate-modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/donate-modal.js","./shared/main-donate-form/action-creators":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/action-creators.js","./shared/main-donate-form/main-donate-form":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/main-donate-form.js","./shared/main-donate-form/reducer":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/reducer.js","./shared/utils":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/utils.js","functional-utils":"functional-utils","is-nan":"is-nan","promise-polyfill":"promise-polyfill","react-dom":"react-dom","react-markup":"react-markup",redux:"redux"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/i18n.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=e("promise-polyfill"),s=r(a),c=e("./shared/definitions"),p=function(){function e(n){o(this,e),this.data=n}return u(e,[{key:"detectLanguage",value:function(){return e.detectLanguage()}},{key:"t",value:function(e,n){var t=this.data[e];if("undefined"==typeof t)throw new Error("Wrong category "+e);if(!(n in t))throw new Error("Wrong key: "+e+"/"+n);return t[n]}},{key:"param",value:function(e,n){return this.params[e]?this.params[e]:n}}],[{key:"create",value:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i({},n,{language:e.detectLanguage()});return new s["default"](function(n,r){var o=new XMLHttpRequest;o.addEventListener("load",function(){var t=200;o.status===t?n(new e(JSON.parse(o.responseText))):r(o.responseText)}),o.addEventListener("error",function(){r(o.responseText)}),o.open("POST","/translations"),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t))})}},{key:"detectLanguage",value:function(){return/^(\/en$)|(\/en\/)/.test(window.location.pathname)?c.LanguageType.EN:/^(\/es$)|(\/es\/)/.test(window.location.pathname)?c.LanguageType.ES:c.LanguageType.RU}}]),e}();t["default"]=p},{"./shared/definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","promise-polyfill":"promise-polyfill"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["input","focus","blur"],o={};r.forEach(function(e){o[e]=function(){switch(e){case"input":return function(e){return{type:"DOM_INPUT",text:e.target.value}};case"focus":return function(e){return{type:"DOM_FOCUS"}};case"blur":return function(e){return{type:"DOM_BLUR"}};default:throw new Error("Unsupported event: "+e)}}()});var i={};r.forEach(function(e){var n=o[e];i[e]=function(t,r){t.addEventListener(e,function(e){r.dispatch(n(e))})}});t.bindEvents=function(e,n,t){var r="string"==typeof n?n.split(" "):n,o="length"in e?Array.prototype.slice.apply(e):[e];o.forEach(function(e){r.forEach(function(n){if(!(n in i))throw new Error("Undefined event type: "+n);var r=i[n];r(e,t)})})}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js":[function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u,a,s={EN:"en-US",RU:"ru-RU",ES:"es-ES"},c={YANDEX_MONEY:"YANDEX_MONEY",PAYPAL:"PAYPAL"},p={ACCOUNT:"ACCOUNT",CARD:"CARD"},d={RUR:"RUR",USD:"USD",EUR:"EUR"},f={OPTION_SUM_1:"OPTION_SUM_1",OPTION_SUM_2:"OPTION_SUM_2",OPTION_SUM_3:"OPTION_SUM_3",OPTION_OTHER:"OPTION_OTHER"},l=(a={},r(a,d.RUR,(o={},r(o,f.OPTION_SUM_1,300),r(o,f.OPTION_SUM_2,500),r(o,f.OPTION_SUM_3,1e3),o)),r(a,d.USD,(i={},r(i,f.OPTION_SUM_1,10),r(i,f.OPTION_SUM_2,20),r(i,f.OPTION_SUM_3,50),i)),r(a,d.EUR,(u={},r(u,f.OPTION_SUM_1,10),r(u,f.OPTION_SUM_2,20),r(u,f.OPTION_SUM_3,50),u)),a);t.LanguageType=s,t.ProvideType=c,t.MethodType=p,t.CurrencyType=d,t.AmountOptionType=f,t.currencyOptionsToAmount=l},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/donate-modal.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),s=e("react"),c=e("react-markup"),p=e("bem-prefixer"),d=r(p),f=(0,d["default"])("donate-modal"),l=function(e){function n(){var e,t,r,u;o(this,n);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),r.componentDidMount=function(){window.addEventListener("keydown",function(e){if(r.props.displayed){var n=27;e.keyCode===n&&r.props.onClose()}})},u=t,i(r,u)}return u(n,e),a(n,[{key:"render",value:function(){var e=this.props.displayed,n=this.props.onClose,t=e?[]:["hidden"];return(0,c.h)(f("div",t),(0,c.h)(f("div#content"),this.props.children),(0,c.h)(f("div#background"),{onClick:n}))}}]),n}(s.Component);t["default"]=l},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/action-creators.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setProvider=function(e){return{type:"SET_PROVIDER",provider:e}},t.setCurrency=function(e){return{type:"SET_CURRENCY",currency:e}},t.setAmountOption=function(e){return{type:"SET_AMOUNT_OPTION",amountOption:e}},t.setAmount=function(e){return{type:"SET_AMOUNT",amount:e}},t.setTargets=function(e){return{type:"SET_TARGETS",targets:e}},t.setFormComment=function(e){return{type:"SET_FORM_COMMENT",formComment:e}},t.setShortDesc=function(e){return{type:"SET_SHORT_DESC",shortDesc:e}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/main-donate-form.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),c=e("react"),p=e("react-markup"),d=e("bem-prefixer"),f=r(d),l=e("../definitions"),m=e("../utils"),h=l.ProvideType.YANDEX_MONEY,y=l.ProvideType.PAYPAL,O=l.CurrencyType.RUR,v=l.CurrencyType.USD,T=l.CurrencyType.EUR,_=l.AmountOptionType.OPTION_SUM_1,g=l.AmountOptionType.OPTION_SUM_2,b=l.AmountOptionType.OPTION_SUM_3,U=l.AmountOptionType.OPTION_OTHER,P="https://money.yandex.ru/quickpay/confirm.xml",S="410012180500847",A="donate",E="PC",C="/paypal",M=(0,f["default"])("main-donate-form"),N=function(e){function n(){var e,t,r,u;o(this,n);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.formatMoney=function(e,n){var t=r.props.i18n;return t.t("strings","help/main-donation-form/money-template").replace(/\{amount\}/g,e).replace(/\{currency\}/g,(0,m.getCurrencySign)(n))},r.handleChangeAmount=function(e){var n=e.target.value;/^[0-9]*$/.test(n)&&r.props.onChangeAmount(Number(n))},r.renderProviderOptions=function(){var e=r.props,n=e.i18n,t=e.provider,o=e.onChangeProvider;return(0,p.h)(M("div#options"),(0,p.h)(M("div","option",t===h?["active"]:[]),{onClick:o.bind(null,l.ProvideType.YANDEX_MONEY)},n.t("strings","help/donate/provider-options/ym")),(0,p.h)(M("div","option",t===y?["active"]:[]),{onClick:o.bind(null,l.ProvideType.PAYPAL)},"PayPal"))},r.renderCurrencyOptions=function(){var e=r.props,n=e.currency,t=e.provider,o=e.onChangeCurrency;return t===y?(0,p.h)(M("div#options"),(0,p.h)(M("div","option",n===O?["active"]:[]),{onClick:o.bind(null,O)},(0,m.getCurrencySign)(O)),(0,p.h)(M("div","option",n===v?["active"]:[]),{onClick:o.bind(null,v)},(0,m.getCurrencySign)(v)),(0,p.h)(M("div","option",n===T?["active"]:[]),{onClick:o.bind(null,T)},(0,m.getCurrencySign)(T))):null},r.renderAmountOptions=function(){var e=r.props,n=e.i18n,t=e.currency,o=e.amountOption,i=e.onChangeAmountOption;return(0,p.h)(M("div#options"),(0,p.h)(M("div","option",o===_?["active"]:[]),{onClick:i.bind(null,_)},l.currencyOptionsToAmount[t][_]),(0,p.h)(M("div","option",o===g?["active"]:[]),{onClick:i.bind(null,g)},l.currencyOptionsToAmount[t][g]),(0,p.h)(M("div","option",o===b?["active"]:[]),{onClick:i.bind(null,b)},l.currencyOptionsToAmount[t][b]),(0,p.h)(M("div","option",o===U?["active"]:[]),{onClick:i.bind(null,U)},n.t("strings","help/donate/amount-options/other-amount")))},r.renderAmount=function(){var e=r.props,n=e.i18n,t=e.amount,o=e.amountOption,i=e.currency;if(o!==l.AmountOptionType.OPTION_OTHER)return(0,p.h)(M("div#amount-info"),(0,p.h)(M("div#amount"),r.formatMoney(t,i)));var u=function(){var e=n.t("strings","help/main-donation-form/money-template").replace(/ /g,"Â "),o=e.split("{amount}"),u=[];return o.forEach(function(e,n){0!==n&&u.push((0,p.h)("input",{value:t,size:4,onChange:r.handleChangeAmount})),u.push(e.replace("{currency}",(0,m.getCurrencySign)(i)))}),{v:(0,p.h)(M("div#amount-info"),p.h.apply(void 0,[M("div#amount-input")].concat(u)))}}();return"object"===("undefined"==typeof u?"undefined":a(u))?u.v:void 0},r.renderYandexForm=function(){var e=r.props,n=e.i18n,t=e.amount,o=e.targets,i=e.formComment,u=e.shortDesc;return(0,p.h)(M("form#form"),{action:P},(0,p.h)("input",{type:"hidden",name:"sum",value:t}),(0,p.h)("input",{type:"hidden",name:"receiver",value:S}),(0,p.h)("input",{type:"hidden",name:"formcomment",value:i}),(0,p.h)("input",{type:"hidden",name:"short-dest",value:u}),(0,p.h)("input",{type:"hidden",name:"quickpay-form",value:A}),(0,p.h)("input",{type:"hidden",name:"targets",value:o}),(0,p.h)("input",{type:"hidden",name:"paymentType",value:E}),(0,p.h)(M("button#submit"),n.t("strings","help/donate/donate-button-title")))},r.renderPaypalForm=function(){var e=r.props,n=e.i18n,t=e.amount,o=e.currency,i=o;if(o===O)i="RUB";else if(o===v)i="USD";else{if(o!==T)throw new Error("Currency isn't supported: "+o);i="EUR"}return(0,p.h)(M("form#form"),{action:C},(0,p.h)("input",{type:"hidden",name:"amount",value:t}),(0,p.h)("input",{type:"hidden",name:"currency",value:i}),(0,p.h)(M("button#submit"),n.t("strings","help/donate/donate-button-title")))},r.renderButton=function(){var e=r.props.provider;if(e===h)return r.renderYandexForm();if(e===y)return r.renderPaypalForm();throw new Error("Wrong provider value: "+e)},u=t,i(r,u)}return u(n,e),s(n,[{key:"render",value:function(){return(0,p.h)(M("div"),this.renderProviderOptions(),this.renderCurrencyOptions(),this.renderAmountOptions(),this.renderAmount(),this.renderButton())}}]),n}(c.Component);t["default"]=N},{"../definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js","../utils":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/utils.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/main-donate-form/reducer.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=e("../definitions"),i={provider:o.ProvideType.YANDEX_MONEY,currency:o.CurrencyType.RUR,amountOption:o.AmountOptionType.OPTION_SUM_2,amount:o.currencyOptionsToAmount[o.CurrencyType.RUR][o.AmountOptionType.OPTION_SUM_2],targets:"",formComment:"",shortDesc:""},u=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],n=arguments[1];switch(n.type){case"SET_PROVIDER":var t=n.provider,u=e.amountOption,a=t===o.ProvideType.YANDEX_MONEY?o.CurrencyType.RUR:e.currency,s=null;return s=u===o.AmountOptionType.OPTION_SUM_1?o.currencyOptionsToAmount[a][u]:u===o.AmountOptionType.OPTION_SUM_2?o.currencyOptionsToAmount[a][u]:u===o.AmountOptionType.OPTION_SUM_3?o.currencyOptionsToAmount[a][u]:e.amount,r({},e,{provider:t,currency:a,amount:s});case"SET_CURRENCY":var c=e.provider;if(c===o.ProvideType.PAYPAL){var p=n.currency,d=e.amountOption,f=d===o.AmountOptionType.OPTION_OTHER?e.amount:o.currencyOptionsToAmount[p][d];return r({},e,{currency:p,amount:f})}return e;case"SET_AMOUNT_OPTION":var l=n.amountOption,m=e.currency,h=null;return h=l===o.AmountOptionType.OPTION_SUM_1?o.currencyOptionsToAmount[m][l]:l===o.AmountOptionType.OPTION_SUM_2?o.currencyOptionsToAmount[m][l]:l===o.AmountOptionType.OPTION_SUM_3?o.currencyOptionsToAmount[m][l]:e.amount,r({},e,{amountOption:l,amount:h});case"SET_AMOUNT":var y=n.amount,O=e.currency,v=null;return v=y===o.currencyOptionsToAmount[O][o.AmountOptionType.OPTION_SUM_1]?o.AmountOptionType.OPTION_SUM_1:y===o.currencyOptionsToAmount[O][o.AmountOptionType.OPTION_SUM_2]?o.AmountOptionType.OPTION_SUM_2:y===o.currencyOptionsToAmount[O][o.AmountOptionType.OPTION_SUM_3]?o.AmountOptionType.OPTION_SUM_3:o.AmountOptionType.OPTION_OTHER,r({},e,{amountOption:v,amount:y});case"SET_TARGETS":var T=n.targets;return r({},e,{targets:T});case"SET_FORM_COMMENT":var _=n.formComment;return r({},e,{formComment:_});case"SET_SHORT_DESC":var g=n.shortdesc;return r({},e,{shortdesc:g});default:return e}};t["default"]=u},{"../definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/utils.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrencySign=void 0;var r=e("./definitions"),o=r.CurrencyType.RUR,i=r.CurrencyType.USD,u=r.CurrencyType.EUR;t.getCurrencySign=function(e){if(e===o)return"â½";if(e===i)return"$";if(e===u)return"â¬";throw new Error("Currency isn't supported: "+e)}},{"./definitions":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/shared/definitions.js"}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-team.js"]);