!function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/alerts.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.error=function n(e){var n=document.createElement("div");n.classList.add("Alert--error");var t=document.createElement("div");t.textContent="âœ–",t.classList.add("Alert__close"),t.addEventListener("click",function(){document.body.removeChild(n)}),n.appendChild(t);var r=document.createElement("div");r.textContent=e,t.classList.add("Alert__body"),n.appendChild(r),document.body.firstChild?document.body.insertBefore(n,document.body.firstChild):document.body.appendChild(n);var o=1e4;setTimeout(function(){return document.body.removeChild(n)},o)}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.user=r.logout=r.login=void 0,r["default"]=function(e){var t=e.basicAuth,r=t.username,n=t.password,o=i["default"].wrap(a["default"],{mime:"application/json"}).wrap(c["default"]).wrap(d["default"]).wrap(m["default"],{username:r,password:n});return{fetchResource:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return o({method:"GET",params:t,path:"/api/"+e.name+"{?page,expand,q,per-page}"}).then(function(e){return{pagination:{currentPage:parseInt(e.headers["X-Pagination-Current-Page"],10),pageCount:parseInt(e.headers["X-Pagination-Page-Count"],10),perPage:parseInt(e.headers["X-Pagination-Per-Page"],10),totalCount:parseInt(e.headers["X-Pagination-Total-Count"],10)},data:e.entity}})},patchRecord:function(e,t){return o({path:"/api/"+e.name+"/"+t.id,method:"PATCH",entity:t})},postRecord:function(e,t){return o({path:"/api/"+e.name,method:"POST",entity:t})},deleteRecord:function(e,t){return o({path:"/api/"+e.name+"/"+t.id,method:"DELETE"})}}};var o=e("rest"),i=n(o),s=e("rest/interceptor/mime"),a=n(s),u=e("rest/interceptor/template"),c=n(u),l=e("rest/interceptor/errorCode"),d=n(l),p=e("rest/interceptor/basicAuth"),m=n(p),h=i["default"].wrap(d["default"]).wrap(c["default"]);r.login=function(e,t){var r=h.wrap(a["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return r({path:"/admin/login",entity:{username:e,password:t},method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},r.logout=function(){var e=h.wrap(a["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return e({path:"/admin/logout",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},r.user=function(){var e=h.wrap(a["default"],{mime:"application/json"});return e({path:"/admin/user",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})}},{rest:"rest","rest/interceptor/basicAuth":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/basicAuth.js","rest/interceptor/errorCode":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/errorCode.js","rest/interceptor/mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/mime.js","rest/interceptor/template":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/app.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=e("react"),a=e("react-markup"),u=e("react-router"),c=e("functional-utils"),l=e("./api"),d=e("./navigation"),p=n(d),m=e("./auth"),h=n(m),f=e("./table-view"),y=n(f),v=e("./data-access"),g=n(v),b=function w(e,t){if("object"!==("undefined"==typeof e?"undefined":i(e))||"object"!==("undefined"==typeof t?"undefined":i(t))||Array.isArray(e)||Array.isArray(t))return t;var r=(0,c.merge)({},e);return Object.keys(t).forEach(function(n){n in e?r[n]=w(e[n],t[n]):r[n]=t[n]}),r},x=function(e){var t=e.scheme,r=e.renderers,n=r;return t.forEach(function(e){var t={};e.attrs.forEach(function(e){var r=null;r="manyToOne"===e.type?function(e){return null===e?"null":"["+e.id+"]"}:"manyToMany"===e.type?function(e){return null===e?"null":"["+e.map(function(e){return e.id}).join(", ")+"]"}:function(e){return null===e?"null":e},t=(0,c.merge)(t,o({},e.name,r))}),n=(0,c.merge)(n,o({},e.name,t))}),(0,c.merge)(e,{renderers:b(n,r)})},j=(0,s.createClass)({displayName:"App",getInitialState:function(){return{logined:!1,dao:null}},auth:function(e,t){var r=this;(0,l.login)(e,t).then(function(){return(0,l.user)()}).then(function(e){var t=r.props.route.config;r.setState({logined:!0,dao:(0,g["default"])({config:t,api:{basicAuth:{username:e.accessToken,password:""}}})})})},logout:function(){var e=this;(0,l.logout)().then(function(){e.setState({logined:!1,dao:null})})},componentDidMount:function(){var e=this;(0,l.user)().then(function(t){var r=e.props.route.config;e.setState({logined:!0,dao:(0,g["default"])({config:r,api:{basicAuth:{username:t.accessToken,password:""}}})})})["catch"](function(e){console.error(e)})},render:function(){var e=this.props.route.config,t=e.scheme,r=this.state,n=r.logined,o=r.dao,i=this.props.params.resource,s=void 0===i?"translation-strings":i,u=t.filter(function(e){return e.name===s})[0];return n?(0,a.h)("div",(0,a.h)(h["default"],{logined:n,onLogin:this.auth,onLogout:this.logout}),(0,a.h)(p["default"],{items:t,activeItem:u}),(0,a.h)(y["default"],{resourceName:s,context:{config:e,dao:o}})):(0,a.h)("div",(0,a.h)(h["default"],{logined:n,onLogin:this.auth}))}}),k=(0,s.createClass)({render:function(){var e=this.props.config,t=x(e);return(0,a.h)(u.Router,{history:u.hashHistory},(0,a.h)(u.Route,{path:"/:resource",component:j,config:t}),(0,a.h)(u.Route,{path:"/",component:j,config:t}))}});r["default"]=k},{"./api":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js","./auth":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/auth.js","./data-access":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/data-access.js","./navigation":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/navigation.js","./table-view":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/table-view.js","functional-utils":"functional-utils",react:"react","react-markup":"react-markup","react-router":"react-router"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/auth.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("bem-prefixer"),a=n(s),u=(0,a["default"])("Auth"),c=(0,o.createClass)({displayName:"Auth",auth:function(e){e.preventDefault(),this.props.onLogin(this.usernameEl.value,this.passwordEl.value)},logout:function(){this.props.onLogout()},render:function(){var e=this,t=this.props.logined;return(0,i.h)(u("div"),t?(0,i.h)("div",(0,i.h)("span","Authorized"),(0,i.h)("button",{onClick:this.logout},"Logout")):(0,i.h)("form",{onSubmit:this.auth},(0,i.h)("input",{ref:function(t){e.usernameEl=t},placeholder:"username"}),(0,i.h)("input",{ref:function(t){e.passwordEl=t},placeholder:"password"}),(0,i.h)("button",{type:"submit"},"auth")))}});r["default"]=c},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/data-access.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){var t=e.config,r=t.scheme,n=t.expandings,u=e.api,l=(0,c["default"])(u);return{fetchResource:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n[e],s=function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],o=[];n.forEach(function(e){"string"==typeof e?o.push(e):o.push(e[0])});var s=t;o.length>0&&(s=(0,a.merge)(s,{expand:o.join(",")}));var c=n.filter(function(e){return Array.isArray(e)}),d=r.filter(function(t){return t.name===e})[0];return l.fetchResource(d,s).then(function(e){var t=c.map(function(t){var r=t[0],n=d.attrs.filter(function(e){return e.name===r})[0],o=n[n.type].to,s=t[1],a=null;if("manyToMany"===n.type){var c;a=(c=[]).concat.apply(c,i(e.data.map(function(e){return e[n.name].map(function(e){return e.id})})))}else{if("manyToOne"!==n.type)throw new Error("Not supported yet: "+n.type);a=e.data.map(function(e){return e[n.name].id})}if(0!==a.length){var l={q:"id:["+a.join(",")+"]","per-page":a.length};return u(o,l,s).then(function(e){return{attr:n,entities:e.data}})}return{attr:n,entities:[]}});return Promise.all(t).then(function(t){var r=e.data.map(function(e){var r=(0,a.merge)({},e);return t.forEach(function(e){var t=e.attr,n=e.entities;if("manyToMany"===t.type){var o=n.filter(function(e){return r[t.name].filter(function(t){return t.id===e.id}).length>0});r[t.name]=o}else{if("manyToOne"!==t.type)throw new Error("Relation type is not supported yet: "+t.type);var i=n.filter(function(e){return r[t.name].id===e.id});if(1!==i.length)throw new Error("Bad objects count: "+i.length);r[t.name]=i[0]}}),r});return(0,a.merge)(e,{data:r})})})};return s(e,t,o)},updateRecord:function(e,t,n){var u=r.filter(function(t){return t.name===e})[0],c=u.attrs.reduce(function(e,u){if("manyToOne"===u.type)return e.then(function(e){return(0,a.merge)(e,o({},u[u.type].fromAttr,t[u.name].id))});if("manyToMany"!==u.type)return e.then(function(e){return(0,a.merge)(e,o({},u.name,t[u.name]))});var c=function(){var s=n[u.name],a=t[u.name],c=a.filter(function(e){return 0===s.filter(function(t){return t.id===e.id}).length}),d=s.filter(function(e){return 0===a.filter(function(t){return t.id===e.id}).length}),p=u[u.type],m=r.filter(function(e){return e.name===p.via})[0];return{v:l.fetchResource(m,{q:p.fromAttr+":"+t.id}).then(function(r){var n=r.data,s=c.map(function(e){var r;return l.postRecord(m,(r={},o(r,p.fromAttr,t.id),o(r,p.toAttr,e.id),r))}),a=d.map(function(e){return l.deleteRecord(m,n.filter(function(t){return t[p.toAttr]===e.id})[0])});return Promise.all([].concat(i(s),i(a))).then(function(){return e})})}}();return"object"===("undefined"==typeof c?"undefined":s(c))?c.v:void 0},Promise.resolve({}));return c.then(function(e){return l.patchRecord(u,e)})},createRecord:function(e,t){var n=r.filter(function(t){return t.name===e})[0],i=n.attrs.reduce(function(e,r){return"manyToOne"===r.type?e.then(function(e){return(0,a.merge)(e,o({},r[r.type].fromAttr,t[r.name].id))}):"manyToMany"===r.type?e:e.then(function(e){return(0,a.merge)(e,o({},r.name,t[r.name]))})},Promise.resolve({}));return i.then(function(e){return l.postRecord(n,e)}).then(function(e){var i=e.entity;return Promise.all(n.attrs.filter(function(e){return"manyToMany"===e.type}).map(function(e){var n=t[e.name],s=e[e.type],a=r.filter(function(e){return e.name===s.via})[0],u=n.map(function(e){var t;return l.postRecord(a,(t={},o(t,s.fromAttr,i.id),o(t,s.toAttr,e.id),t))});return Promise.all(u)}))})},deleteRecord:function(){return l.deleteRecord.apply(l,arguments)}}};var a=e("functional-utils"),u=e("./api"),c=n(u)},{"./api":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js","functional-utils":"functional-utils"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/many-to-many-modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("bem-prefixer"),a=n(s),u=e("./table-view"),c=n(u),l=e("./modal"),d=n(l),p=(0,a["default"])("ManyToOneModal"),m=(0,o.createClass)({displayName:"ManyToManyModal",getInitialState:function(){return{value:this.props.value||[]}},componentWillReceiveProps:function(e){var t=e.value;this.setState({value:t||null})},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,r=e.resourceName;return t.filter(function(e){return e.name===r})[0]},selectRecord:function(e){var t=this.state.value;this.setState({value:t.filter(function(t){return t.id!==e.id}).concat([e])})},deleteRecord:function(e){var t=this.state.value;this.setState({value:t.filter(function(t){return t.id!==e.id})})},save:function(){this.props.onSave(this.state.value)},render:function(){var e=this,t=this.props,r=t.scheme,n=t.resourceName,o=t.onCancel,s=t.context,a=this.state.value||[];return(0,i.h)(p("div"),(0,i.h)(d["default"],(0,i.h)("div",a.map(function(t){return(0,i.h)("div",{key:t.id},(0,i.h)("span",Object.keys(t).map(function(e){return e+":"+t[e]}).join(", ")),(0,i.h)("button",{onClick:e.deleteRecord.bind(null,t)},"del"))})),(0,i.h)(c["default"],{scheme:r,resourceName:n,enableRecordSelect:!0,onRecordSelect:this.selectRecord,context:s}),(0,i.h)("button",{onClick:this.save},"Save"),(0,i.h)("button",{onClick:o},"Cancel")))}});m.propTypes={context:o.PropTypes.object.isRequired,resourceName:o.PropTypes.string.isRequired,onCancel:o.PropTypes.func.isRequired,onSave:o.PropTypes.func.isRequired,value:o.PropTypes.array},r["default"]=m},{"./modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/modal.js","./table-view":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/table-view.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/many-to-one-modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("bem-prefixer"),a=n(s),u=e("./table-view"),c=n(u),l=e("./modal"),d=n(l),p=(0,a["default"])("ManyToOneModal"),m=(0,o.createClass)({displayName:"ManyToOneModal",render:function(){var e=this.props,t=e.resourceName,r=e.onCancel,n=e.onSelect,o=e.context;return(0,i.h)(p("div"),(0,i.h)(d["default"],(0,i.h)(c["default"],{resourceName:t,enableRecordSelect:!0,onRecordSelect:n,context:o}),(0,i.h)("button",{onClick:r},"Cancel")))}});m.propTypes={context:o.PropTypes.object.isRequired,resourceName:o.PropTypes.string.isRequired,onCancel:o.PropTypes.func.isRequired,onSelect:o.PropTypes.func.isRequired},r["default"]=m},{"./modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/modal.js","./table-view":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/table-view.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("bem-prefixer"),a=n(s),u=(0,a["default"])("Modal"),c=(0,o.createClass)({displayName:"Modal",render:function(){return(0,i.h)(u("div"),(0,i.h)(u("div#holder"),this.props.children))}});r["default"]=c},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/navigation.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("bem-prefixer"),a=n(s),u=e("react-router"),c=(0,a["default"])("Navigation"),l=(0,o.createClass)({displayName:"Navigation",render:function(){var e=this.props,t=e.items,r=e.activeItem;return(0,i.h)(c("div"),t.map(function(e){return e.name===r.name?(0,i.h)(c("div#item.active"),{key:e.name},e.name):(0,i.h)(u.Link,{key:e.name,to:"/"+e.name},(0,i.h)(c("div#item"),{key:e.name},e.name))}))}});r["default"]=l},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup","react-router":"react-router"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/root.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),i=e("react-markup"),s=e("./app"),a=n(s),u=[{name:"translation-strings",attrs:[{name:"id",type:"int"},{name:"name",type:"string"},{name:"en-US",type:"string"},{name:"es-ES",type:"string"},{name:"ru-RU",type:"string"}]},{name:"translation-texts",attrs:[{name:"id",type:"int"},{name:"name",type:"string"},{name:"scope",type:"string"},{name:"en-US",type:"text"},{name:"es-ES",type:"text"},{name:"ru-RU",type:"text"}]},{name:"members",attrs:[{name:"id",type:"int"},{name:"name",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"name_id",toAttr:"id"}},{name:"role",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"role_id",toAttr:"id"}},{name:"photo_url",type:"string"},{name:"vk",type:"string"},{name:"fb",type:"string"},{name:"linked_in",type:"string"},{name:"email",type:"string"}]},{name:"news-items",attrs:[{name:"id",type:"int"},{name:"date",type:"date"},{name:"title",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"title_id",toAttr:"id"}},{name:"text",type:"manyToOne",manyToOne:{to:"translation-texts",fromAttr:"text_id",toAttr:"id"}},{name:"image_url",type:"string"},{name:"tags",type:"manyToMany",manyToMany:{via:"news-news-tags",to:"news-tags",fromAttr:"news_id",toAttr:"news_tags_id"}}]},{name:"news-tags",attrs:[{name:"id",type:"int"},{name:"title",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"title_id",toAttr:"id"}},{name:"news",type:"manyToMany",manyToMany:{via:"news-news-tags",to:"news-items",fromAttr:"news_tags_id",toAttr:"news_id"}}]},{name:"news-news-tags",attrs:[{name:"id",type:"int"},{name:"news_id",type:"int"},{name:"news_item",type:"manyToOne",manyToOne:{to:"news-items",fromAttr:"news_id",toAttr:"id"}},{name:"tag",type:"manyToOne",manyToOne:{to:"news-tags",fromAttr:"news_tags_id",toAttr:"id"}},{name:"news_tags_id",type:"int"}]}],c={"translation-strings":[],"translation-texts":[],members:["name","role"],"news-tags":["title",["news",["title","text"]]],"news-items":["title","text",["tags",["title"]]],"news-news-tags":[["news_item",["title","text"]],["tag",["title"]]]},l={members:{name:function(e){return null===e?"null":e["ru-RU"]},role:function(e){return null===e?"null":e["ru-RU"]}},"news-items":{title:function(e){return null===e?"null":e["ru-RU"]},text:function(e){return null===e?"null":e["ru-RU"]},tags:function(e){return null===e?"null":e.map(function(e){return e.title["ru-RU"]}).join(", ")}},"news-tags":{title:function(e){return null===e?"null":e["ru-RU"]},news:function(e){return null===e?"null":e.map(function(e){return e.title["ru-RU"]}).join(", ")}},"news-news-tags":{news_item:function(e){return null===e?"null":e.title["ru-RU"]},tag:function(e){return null===e?"null":e.title["ru-RU"]}}},d={scheme:u,expandings:c,renderers:l},p=(0,o.createClass)({render:function(){return(0,i.h)(a["default"],{config:d})}});r["default"]=p},{"./app":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/app.js",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/single-view.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),s=e("react-markup"),a=e("bem-prefixer"),u=n(a),c=e("functional-utils"),l=e("./many-to-one-modal"),d=n(l),p=e("./many-to-many-modal"),m=n(p),h=(0,u["default"])("SingleView"),f=(0,i.createClass)({displayName:"SingleView",getInitialState:function(){return{record:this.props.record,editingLinkAttr:null}},componentWillReceiveProps:function(e){this.setState({record:e.record,editingLink:null})},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,r=e.resourceName;return t.filter(function(e){return e.name===r})[0]},handleAttrChange:function(e,t){var r=this.state.record;this.setState({record:(0,c.merge)(r,o({},e,t.target.value))})},save:function(){this.props.onSave(this.state.record)},cancel:function(){this.props.onCancel()},editLinkAttr:function(e){this.setState({editingLinkAttr:e})},cancelEditLinkAttr:function(){this.setState({editingLinkAttr:null})},changeEditLinkAttr:function(e){var t=this.state,r=t.editingLinkAttr,n=t.record;this.setState({editingLinkAttr:null,record:(0,c.merge)(n,o({},r.name,e))})},renderInput:function(e,t){var r=this.props,n=r.context.config.renderers,o=r.resourceName,i=n[o][t.name],a=e[t.name],u=i(a);return"text"===t.type?(0,s.h)("textarea",{value:u,onChange:this.handleAttrChange.bind(null,t.name)}):"manyToOne"===t.type||"manyToMany"===t.type?(0,s.h)("button",{onClick:this.editLinkAttr.bind(null,t)},u):(0,s.h)("input",{type:"text",value:u,onChange:this.handleAttrChange.bind(null,t.name)})},renderEditingLinkAttrModal:function(){var e=this.state,t=e.editingLinkAttr,r=e.record,n=this.props.context;if(null!==t){var o=r[t.name],i=t[t.type];if("manyToOne"===t.type)return(0,s.h)(d["default"],{resourceName:i.to,value:o,onCancel:this.cancelEditLinkAttr,onSelect:this.changeEditLinkAttr,context:n});if("manyToMany"===t.type)return(0,s.h)(m["default"],{resourceName:i.to,value:o,onCancel:this.cancelEditLinkAttr,onSave:this.changeEditLinkAttr,context:n});throw new Error("Editing for '"+t.type+"' relations is not imlemented yet")}return null},render:function(){var e=this,t=this.state.record,r=this.getResourceScheme(),n=r.attrs;return(0,s.h)(h("div"),this.renderEditingLinkAttrModal(),(0,s.h)(h("div#fields"),n.filter(function(e){return"id"!==e.name}).map(function(r){return(0,s.h)(h("label#field"),{key:r.name},(0,s.h)(h("div#title"),r.name),(0,s.h)(h("div#input"),e.renderInput(t,r)))}).concat([(0,s.h)(h("div#controls"),{key:"controls"},(0,s.h)("button",{onClick:this.save},"Save"),(0,s.h)("button",{onClick:this.cancel},"Cancel"))])))}});f.propTypes={context:i.PropTypes.object.isRequired,resourceName:i.PropTypes.string.isRequired},r["default"]=f},{"./many-to-many-modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/many-to-many-modal.js","./many-to-one-modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/many-to-one-modal.js","bem-prefixer":"bem-prefixer","functional-utils":"functional-utils",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/table-view.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),s=e("react-markup"),a=e("bem-prefixer"),u=n(a),c=e("functional-utils"),l=e("./modal"),d=n(l),p=e("./single-view"),m=n(p),h=e("./alerts"),f=(0,u["default"])("TableView"),y=(0,i.createClass)({displayName:"TableView",getInitialState:function(){return{loading:!0,editingRecord:null,editingRecordError:null,creatingRecord:null,pagination:null,data:null,search:{}}},componentDidMount:function(){this.sync()},componentWillReceiveProps:function(e){var t=this;this.setState({search:{}},function(){t.sync(e)})},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,r=e.resourceName;return t.filter(function(e){return e.name===r})[0]},editRecord:function(e){this.setState({editingRecord:e})},updateRecord:function(e){var t=this,r=this.props,n=r.context.dao,o=r.resourceName;n.updateRecord(o,e,this.state.editingRecord).then(function(){t.setState({editingRecord:null})}).then(this.sync)["catch"](function(e){(0,h.error)(e.entity.message)})},cancelEditRecord:function(){this.setState({editingRecord:null})},createRecord:function(){var e=this.getResourceScheme();this.setState({creatingRecord:e.attrs.reduce(function(e,t){return(0,c.merge)(e,o({},t.name,null))},{})})},cancelCreateRecord:function(){this.setState({creatingRecord:null})},saveCreateRecord:function(e){var t=this,r=this.props,n=r.context.dao,o=r.resourceName;n.createRecord(o,e).then(function(){t.setState({creatingRecord:null})}).then(function(){return t.sync()})["catch"](function(e){(0,h.error)(e.entity.message)})},sync:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],r=t.context.dao,n=t.resourceName;this.setState({loading:!0,data:null},function(){var t=e.state,o=t.search,i=t.pagination,s=Object.keys(o).filter(function(e){return"undefined"!=typeof o[e]&&""!==o[e]}).map(function(e){return e+":*"+o[e].trim()+"*"}).join(";"),a={page:(i||{}).currentPage||1,q:s};return r.fetchResource(n,a).then(function(t){var r=t.pagination,n=t.data;e.setState({loading:!1,pagination:r,data:n})})})},search:function v(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],r=t.context.dao,n=t.resourceName,o=this.state,v=o.search,i=o.pagination,s=Object.keys(v).filter(function(e){return"undefined"!=typeof v[e]&&""!==v[e]}).map(function(e){return e+":*"+v[e]+"*"}).join(";"),a={page:(i||{}).currentPage||1,q:s};return r.fetchResource(n,a).then(function(t){var r=t.pagination,n=t.data;e.setState({pagination:r,data:n})})},deleteRecord:function(e){var t=this,r=this.props.context.dao,n=this.getResourceScheme();r.deleteRecord(n,e).then(function(){return t.sync()})["catch"](function(e){(0,h.error)(e.entity.message)})},prevPage:function(){var e=this,t=this.state.pagination.currentPage;t>1&&this.setState({pagination:(0,c.merge)(this.state.pagination,{currentPage:t-1})},function(){e.sync()})},nextPage:function(){var e=this,t=this.state.pagination,r=t.currentPage,n=t.pageCount;r<n&&this.setState({pagination:(0,c.merge)(this.state.pagination,{currentPage:r+1})},function(){e.sync()})},renderPagination:function(){var e=this.state.pagination;return(0,s.h)(f("div#pagination"),(0,s.h)("button",{onClick:this.prevPage},"Previous page"),(0,s.h)("span",e.currentPage+" / "+e.pageCount),(0,s.h)("button",{onClick:this.nextPage},"Next page"),(0,s.h)("span"," (per page: "+e.perPage+", total: "+e.totalCount+")"))},renderAttr:function(e,t){var r=this.props,n=r.context.config.renderers,o=r.resourceName,i=n[o][t.name],s=e[t.name];return i(s)},renderRecord:function(e){var t=this,r=this.getResourceScheme(),n=r.attrs,o=this.props,i=o.enableRecordSelect,a=o.onRecordSelect,u=i?a.bind(null,e):null;return(0,s.h)("tr",{key:e.id,onClick:u},n.map(function(r){return(0,s.h)("td",{key:e.id+"-"+r.name},t.renderAttr(e,r))}).concat([(0,s.h)("td",{key:"controls"},(0,s.h)("button",{onClick:this.editRecord.bind(null,e)},"Edit"),(0,s.h)("button",{onClick:this.deleteRecord.bind(null,e)},"Delete"))]))},searchChange:function(e,t){var r=this;this.setState({search:(0,c.merge)(this.state.search,o({},e.name,t.target.value))},function(){r.search()})},searchClear:function(e){var t=this;this.setState({search:(0,c.merge)(this.state.search,o({},e.name,""))},function(){t.search()})},renderSearch:function(){var e=this,t=this.getResourceScheme(),r=t.attrs,n=this.state.search;return(0,s.h)("tr",{key:"search"},r.map(function(t){return(0,s.h)("td",{key:t.name},(0,s.h)("input",{value:n[t.name]||"",type:"text",onChange:e.searchChange.bind(null,t),onClick:e.searchClear.bind(null,t)}))}))},render:function(){var e=this,t=this.props,r=t.resourceName,n=t.context,o=this.state,i=o.editingRecord,a=o.creatingRecord,u=o.data,c=o.loading,l=this.getResourceScheme(),p=l.attrs;return c?(0,s.h)(f("div"),"Loading"):(0,s.h)(f("div"),i&&(0,s.h)(d["default"],(0,s.h)(m["default"],{resourceName:r,record:i,onSave:this.updateRecord,onCancel:this.cancelEditRecord,context:n})),a&&(0,s.h)(d["default"],(0,s.h)(m["default"],{resourceName:r,record:a,onSave:this.saveCreateRecord,onCancel:this.cancelCreateRecord,context:n})),(0,s.h)("button",{onClick:this.createRecord},"Create"),this.renderPagination(),(0,s.h)("table",(0,s.h)("thead",(0,s.h)("tr",p.map(function(e){return(0,s.h)("th",{key:e.name},e.name)}))),(0,s.h)("tbody",[this.renderSearch()].concat(u.map(function(t){return e.renderRecord(t)})))))}});y.propTypes={context:i.PropTypes.object.isRequired,resourceName:i.PropTypes.string.isRequired,enableRecordSelect:i.PropTypes.bool,onRecordSelect:i.PropTypes.func},y.defaultProps={enableRecordSelect:!1,onRecordSelect:null},r["default"]=y},{"./alerts":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/alerts.js","./modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/modal.js","./single-view":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/single-view.js","bem-prefixer":"bem-prefixer","functional-utils":"functional-utils",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-admin.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("react-dom"),i=n(o),s=e("react-markup"),a=e("./admin/root"),u=n(a);e("is-nan").shim(),document.addEventListener("DOMContentLoaded",function(){i["default"].render((0,s.h)(u["default"]),document.getElementById("react"))})},{"./admin/root":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/root.js","is-nan":"is-nan","react-dom":"react-dom","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/UrlBuilder.js":[function(e,t,r){"use strict";function n(e,t){var r,n,o,i,s;if(r=e,o={},t){for(n in t)s=new RegExp("\\{"+n+"\\}"),s.test(r)?r=r.replace(s,encodeURIComponent(t[n]),"g"):o[n]=t[n];i=a.write(o),i&&(r+=r.indexOf("?")===-1?"?":"&",r+=i)}return r}function o(e,t){return 0===e.indexOf(t)}function i(e,t){return this instanceof i?void(e instanceof i?(this._template=e.template,this._params=s({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new i(e,t)}var s,a,u,c,l,d;s=e("./util/mixin"),a=e("./mime/type/application/x-www-form-urlencoded"),c=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,l=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,d=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,i.prototype={append:function(e,t){return new i(this._template+e,s({},this._params,t))},fullyQualify:function(){if("undefined"==typeof location)return this;if(this.isFullyQualified())return this;var e=this._template;return o(e,"//")?e=u.protocol+e:o(e,"/")?e=u.origin+e:this.isAbsolute()||(e=u.origin+u.pathname.substring(0,u.pathname.lastIndexOf("/")+1)),e.indexOf("/",8)===-1&&(e+="/"),new i(e,this._params)},isAbsolute:function(){return l.test(this.build())},isFullyQualified:function(){return d.test(this.build())},isCrossOrigin:function(){if(!u)return!0;var e=this.parts();return e.protocol!==u.protocol||e.hostname!==u.hostname||e.port!==u.port},parts:function p(){var e,p;return e=this.fullyQualify().build().match(c),p={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},p.origin=p.protocol+"//"+p.host,p.port=p.port||("https:"===p.protocol?"443":"http:"===p.protocol?"80":""),p},build:function(e){return n(this._template,s({},this._params,e))},toString:function(){return this.build()}},u="undefined"!=typeof location?new i(location.href).parts():void 0,t.exports=i},{"./mime/type/application/x-www-form-urlencoded":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js",
"./util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js":[function(e,t,r){"use strict";t.exports=function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,r){return t(e,r)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client/default.js":[function(e,t,r){"use strict";function n(){return i.apply(void 0,arguments)}var o,i,s;o=e("../client"),"function"!=typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),n.setDefaultClient=function(e){i=e},n.getDefaultClient=function(){return i},n.resetDefaultClient=function(){i=s},n.setPlatformDefaultClient=function(e){if(s)throw new Error("Unable to redefine platformDefaultClient");i=s=e},t.exports=o(n)},{"../client":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js":[function(e,t,r){"use strict";function n(e){return e}function o(e){return e}function i(e){return e}function s(e){return this instanceof s?void c(this,e):new s(e)}function a(e){var t,r,a,c;return e=e||{},t=e.init||n,r=e.request||o,a=e.success||e.response||i,c=e.error||function(){return Promise.resolve((e.response||i).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(n,o){function i(e){var t,u;return t={},u={arguments:Array.prototype.slice.call(arguments),client:i},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||i,l(r.call(t,e,o,u),function(e){var r,i,l;return l=n,e instanceof s&&(i=e.abort,l=e.client||l,r=e.response,e=e.request),r=r||Promise.resolve(e).then(function(e){return Promise.resolve(l(e)).then(function(e){return a.call(t,e,o,u)},function(e){return c.call(t,e,o,u)})}),i?Promise.race([r,i]):r},function(t){return Promise.reject({request:e,error:t})})}return"object"===("undefined"==typeof n?"undefined":p(n))&&(o=n),"function"!=typeof n&&(n=e.client||u),o=t(o||{}),d(i,n)}}var u,c,l,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};u=e("./client/default"),c=e("./util/mixin"),l=e("./util/responsePromise"),d=e("./client"),a.ComplexRequest=s,t.exports=a},{"./client":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js","./client/default":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client/default.js","./util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js","./util/responsePromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/basicAuth.js":[function(e,t,r){"use strict";var n,o;n=e("../interceptor"),o=e("../util/base64"),t.exports=n({request:function(e,t){var r,n,i;return r=e.headers||(e.headers={}),n=e.username||t.username,i=e.password||t.password||"",n&&(r.Authorization="Basic "+o.encode(n+":"+i)),e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../util/base64":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/base64.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/errorCode.js":[function(e,t,r){"use strict";var n;n=e("../interceptor"),t.exports=n({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?Promise.reject(e):e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/mime.js":[function(e,t,r){"use strict";var n,o,i,s,a,u;n=e("../interceptor"),o=e("../mime"),i=e("../mime/registry"),u=e("../util/attempt"),s={read:function(e){return e},write:function(e){return e}},a={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=n({init:function(e){return e.registry=e.registry||i,e},request:function(e,t){var r,n;return n=e.headers||(e.headers={}),r=o.parse(n["Content-Type"]||t.mime||"text/plain"),n.Accept=n.Accept||t.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?(n["Content-Type"]=r.raw,t.registry.lookup(r)["catch"](function(){if(t.permissive)return s;throw"mime-unknown"}).then(function(n){var o=t.client||e.originator,i=n.write||a.write;return u(i.bind(void 0,e.entity,{client:o,request:e,mime:r,registry:t.registry}))["catch"](function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})})):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var r=o.parse(e.headers["Content-Type"]);return t.registry.lookup(r)["catch"](function(){return s}).then(function(n){var o=t.client||e.request&&e.request.originator,i=n.read||a.read;return u(i.bind(void 0,e.entity,{client:o,response:e,mime:r,registry:t.registry}))["catch"](function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js","../mime/registry":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/registry.js","../util/attempt":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/pathPrefix.js":[function(e,t,r){"use strict";function n(e,t){return 0===e.indexOf(t)}function o(e,t){return e.lastIndexOf(t)+t.length===e.length}var i,s;i=e("../interceptor"),s=e("../UrlBuilder"),t.exports=i({request:function(e,t){var r;return t.prefix&&!new s(e.path).isFullyQualified()&&(r=t.prefix,e.path&&(o(r,"/")||n(e.path,"/")||(r+="/"),r+=e.path),e.path=r),e}})},{"../UrlBuilder":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/UrlBuilder.js","../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js":[function(e,t,r){"use strict";var n,o,i;n=e("../interceptor"),o=e("../util/uriTemplate"),i=e("../util/mixin"),t.exports=n({init:function(e){return e.params=e.params||{},e.template=e.template||"",e},request:function(e,t){var r,n;return r=e.path||t.template,n=i({},e.params,t.params),e.path=o.expand(r,n),delete e.params,e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js","../util/uriTemplate":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriTemplate.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js":[function(e,t,r){"use strict";function n(e){var t,r;return t=e.split(";"),r=t[0].trim().split("+"),{raw:e,type:r[0],suffix:r[1]?"+"+r[1]:"",params:t.slice(1).reduce(function(e,t){return t=t.split("="),e[t[0].trim()]=t[1]?t[1].trim():void 0,e},{})}}t.exports={parse:n}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/registry.js":[function(e,t,r){"use strict";function n(e){this.lookup=function(t){var r;return r="string"==typeof t?o.parse(t):t,e[r.raw]?e[r.raw]:e[r.type+r.suffix]?e[r.type+r.suffix]:e[r.type]?e[r.type]:e[r.suffix]?e[r.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+r.raw+'"'))},this.delegate=function(e){return{read:function(){var t=arguments;return this.lookup(e).then(function(e){return e.read.apply(this,t)}.bind(this))}.bind(this),write:function(){var t=arguments;return this.lookup(e).then(function(e){return e.write.apply(this,t)}.bind(this))}.bind(this)}},this.register=function(t,r){return e[t]=Promise.resolve(r),e[t]},this.child=function(){return new n(Object.create(e))}}var o,i;o=e("../mime"),i=new n({}),i.register("application/hal",e("./type/application/hal")),i.register("application/json",e("./type/application/json")),i.register("application/x-www-form-urlencoded",e("./type/application/x-www-form-urlencoded")),i.register("multipart/form-data",e("./type/multipart/form-data")),i.register("text/plain",e("./type/text/plain")),i.register("+json",i.delegate("application/json")),t.exports=i},{"../mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js","./type/application/hal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/hal.js","./type/application/json":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/json.js","./type/application/x-www-form-urlencoded":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js","./type/multipart/form-data":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/multipart/form-data.js","./type/text/plain":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/text/plain.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/hal.js":[function(e,t,r){"use strict";function n(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!0,enumerable:!1,writeable:!0})}var o,i,s,a,u;o=e("../../../interceptor/pathPrefix"),i=e("../../../interceptor/template"),s=e("../../../util/find"),a=e("../../../util/lazyPromise"),u=e("../../../util/responsePromise"),t.exports={read:function(e,t){function r(e,t){(t&&l&&l.warn||l.log)&&(l.warn||l.log).call(l,"Relationship '"+e+"' is deprecated, see "+t)}var c,l;return t=t||{},c=t.client,l=t.console||l,t.registry.lookup(t.mime.suffix).then(function(r){return r.read(e,t)}).then(function(e){return s.findProperties(e,"_embedded",function(e,t,r){Object.keys(e).forEach(function(r){if(!(r in t)){var o=u({entity:e[r]});n(t,r,o)}}),n(t,r,e)}),s.findProperties(e,"_links",function(e,t,s){Object.keys(e).forEach(function(o){var s=e[o];o in t||n(t,o,u.make(a(function(){return s.deprecation&&r(o,s.deprecation),s.templated===!0?i(c)({path:s.href}):c({path:s.href})})))}),n(t,s,e),n(t,"clientFor",function(t,n){var s=e[t];if(!s)throw new Error("Unknown relationship: "+t);return s.deprecation&&r(t,s.deprecation),s.templated===!0?i(n||c,{template:s.href}):o(n||c,{prefix:s.href})}),n(t,"requestFor",function(e,t,r){var n=this.clientFor(e,r);return n(t)})}),e})},write:function(e,t){return t.registry.lookup(t.mime.suffix).then(function(r){return r.write(e,t)})}}},{"../../../interceptor/pathPrefix":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/pathPrefix.js","../../../interceptor/template":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js","../../../util/find":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/find.js","../../../util/lazyPromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/lazyPromise.js","../../../util/responsePromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/json.js":[function(e,t,r){"use strict";function n(e,t){return{read:function(t){return JSON.parse(t,e)},write:function(e){return JSON.stringify(e,t)},extend:n}}t.exports=n()},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js":[function(e,t,r){"use strict";function n(e){return e=encodeURIComponent(e),e.replace(s,"+")}function o(e){return e=e.replace(a," "),decodeURIComponent(e)}function i(e,t,r){return Array.isArray(r)?r.forEach(function(r){e=i(e,t,r)}):(e.length>0&&(e+="&"),e+=n(t),void 0!==r&&null!==r&&(e+="="+n(r))),e}var s,a;s=/%20/g,a=/\+/g,t.exports={read:function(e){var t={};return e.split("&").forEach(function(e){var r,n,i;r=e.split("="),n=o(r[0]),i=2===r.length?o(r[1]):null,n in t?(Array.isArray(t[n])||(t[n]=[t[n]]),t[n].push(i)):t[n]=i}),t},write:function(e){var t="";return Object.keys(e).forEach(function(r){t=i(t,r,e[r])}),t}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/multipart/form-data.js":[function(e,t,r){"use strict";function n(e){return e&&1===e.nodeType&&"FORM"===e.tagName}function o(e){var t,r=new FormData;for(var n in e)e.hasOwnProperty(n)&&(t=e[n],t instanceof File?r.append(n,t,t.name):t instanceof Blob?r.append(n,t):r.append(n,String(t)));return r}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={write:function(e){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(e instanceof FormData)return e;if(n(e))return new FormData(e);if("object"===("undefined"==typeof e?"undefined":i(e))&&null!==e)return o(e);throw new Error("Unable to create FormData from object "+e)}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/text/plain.js":[function(e,t,r){"use strict";t.exports={read:function(e){return e},write:function(e){return e.toString()}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js":[function(e,t,r){"use strict";function n(e){try{return Promise.resolve(e())}catch(t){return Promise.reject(t)}}t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/base64.js":[function(e,t,r){"use strict";function n(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("Can't base64 encode non-ASCII characters.");for(var t,r,n,o=0,s=[];o<e.length;){switch(t=e.charCodeAt(o),n=o%3){case 0:s.push(i.charAt(t>>2));break;case 1:s.push(i.charAt((3&r)<<4|t>>4));break;case 2:s.push(i.charAt((15&r)<<2|t>>6)),s.push(i.charAt(63&t))}r=t,o+=1}return 0===n?(s.push(i.charAt((3&r)<<4)),s.push("==")):1===n&&(s.push(i.charAt((15&r)<<2)),s.push("=")),s.join("")}function o(e){if(e=e.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(e)||e.length%4>0)throw new Error("Not a base64-encoded string.");var t,r,n,o=0,s=[];for(e=e.replace(/\=/g,"");o<e.length;){switch(t=i.indexOf(e.charAt(o)),n=o%4){case 1:s.push(String.fromCharCode(r<<2|t>>4));break;case 2:s.push(String.fromCharCode((15&r)<<4|t>>2));break;case 3:s.push(String.fromCharCode((3&r)<<6|t))}r=t,o+=1}return s.join("")}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:n,decode:o}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/find.js":[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={findProperties:function o(e,t,r){"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e&&(t in e&&r(e[t],e,t),Object.keys(e).forEach(function(n){o(e[n],t,r)}))}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/lazyPromise.js":[function(e,t,r){"use strict";function n(e){var t,r,n,i;return t=!1,n=new Promise(function(e,t){r={resolve:e,reject:t}}),i=n.then,n.then=function(){return t||(t=!0,o(e).then(r.resolve,r.reject)),i.apply(n,arguments)},n}var o=e("./attempt");t.exports=n},{"./attempt":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js":[function(e,t,r){"use strict";function n(e){var t,r,n,i;for(e||(e={}),t=1,r=arguments.length;t<r;t+=1){n=arguments[t];for(i in n)i in e&&(e[i]===n[i]||i in o&&o[i]===n[i])||(e[i]=n[i])}return e}var o={};t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/normalizeHeaderName.js":[function(e,t,r){"use strict";function n(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js":[function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return e&&e[t]},function(e){return Promise.reject(e&&e[t])})}function o(){return n(this,"entity")}function i(){return n(n(this,"status"),"code")}function s(){return n(this,"headers")}function a(e){return e=d(e),n(this.headers(),e)}function u(e){return e=[].concat(e),c(e.reduce(function(e,t){return e.then(function(e){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var r=e.entity.clientFor(t.rel);return r({params:t.params})})},this))}function c(e){return e.status=i,e.headers=s,e.header=a,e.entity=o,e.follow=u,e}function l(e,t,r){return c(Promise.resolve(e).then(t,r))}var d=e("./normalizeHeaderName");l.make=c,l.reject=function(e){return c(Promise.reject(e))},l.promise=function(e){return c(new Promise(e))},t.exports=l},{"./normalizeHeaderName":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/normalizeHeaderName.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriEncoder.js":[function(e,t,r){"use strict";function n(e,t){if("string"!=typeof e)throw new Error("String required for URL encoding");return e.split("").map(function(e){if(t.hasOwnProperty(e))return e;var r=e.charCodeAt(0);if(r<=127){var n=r.toString(16).toUpperCase();return"%"+(n.length%2===1?"0":"")+n}return encodeURIComponent(e).toUpperCase()}).join("")}function o(e){return e=e||s.unreserved,function(t){return n(t,e)}}function i(e){return decodeURIComponent(e)}var s;s=function(){var e={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return e.genDelims=":/?#[]@",e.subDelims="!$&'()*+,;=",e.reserved=e.genDelims+e.subDelims,e.unreserved=e.alpha+e.digit+"-._~",e.url=e.reserved+e.unreserved,e.scheme=e.alpha+e.digit+"+-.",e.userinfo=e.unreserved+e.subDelims+":",e.host=e.unreserved+e.subDelims,e.port=e.digit,e.pchar=e.unreserved+e.subDelims+":@",e.segment=e.pchar,e.path=e.segment+"/",e.query=e.pchar+"/?",e.fragment=e.pchar+"/?",Object.keys(e).reduce(function(t,r){return t[r]=e[r].split("").reduce(function(e,t){return e[t]=!0,e},{}),t},{})}(),t.exports={decode:i,encode:o(),encodeURL:o(s.url),encodeScheme:o(s.scheme),encodeUserInfo:o(s.userinfo),encodeHost:o(s.host),encodePort:o(s.port),encodePathSegment:o(s.segment),encodePath:o(s.path),encodeQuery:o(s.query),encodeFragment:o(s.fragment)}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriTemplate.js":[function(e,t,r){"use strict";function n(e,t,r){return t.split(",").reduce(function(t,n){var o,i;if(o={},"*"===n.slice(-1)&&(n=n.slice(0,-1),o.explode=!0),u.test(n)){var a=u.exec(n);n=a[1],o.maxLength=parseInt(a[2])}return n=s.decode(n),i=r[n],void 0===i||null===i?t:(Array.isArray(i)?t=i.reduce(function(t,r){return t.length?(t+=o.explode?e.separator:",",e.named&&o.explode&&(t+=e.encoder(n),t+=r.length?"=":e.empty)):(t+=e.first,e.named&&(t+=e.encoder(n),t+=r.length?"=":e.empty)),t+=e.encoder(r)},t):"object"===("undefined"==typeof i?"undefined":c(i))?t=Object.keys(i).reduce(function(t,r){return t.length?t+=o.explode?e.separator:",":(t+=e.first,e.named&&!o.explode&&(t+=e.encoder(n),t+=i[r].length?"=":e.empty)),t+=e.encoder(r),t+=o.explode?"=":",",t+=e.encoder(i[r])},t):(i=String(i),o.maxLength&&(i=i.slice(0,o.maxLength)),t+=t.length?e.separator:e.first,e.named&&(t+=e.encoder(n),t+=i.length?"=":e.empty),t+=e.encoder(i)),t)},"")}function o(e,t){var r;if(r=a[e.slice(0,1)],r?e=e.slice(1):r=a[""],r.reserved)throw new Error("Reserved expression operations are not supported");return n(r,e,t)}function i(e,t){var r,n,i;for(i="",n=0;;){if(r=e.indexOf("{",n),r===-1){i+=e.slice(n);break}i+=e.slice(n,r),n=e.indexOf("}",r)+1,i+=o(e.slice(r+1,n-1),t)}return i}var s,a,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};s=e("./uriEncoder"),u=/^([^:]*):([0-9]+)$/,a={"":{first:"",separator:",",named:!1,empty:"",encoder:s.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:s.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:s.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:s.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:s.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:s.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:s.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:s.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:i}},{"./uriEncoder":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriEncoder.js"}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-admin.js"]);