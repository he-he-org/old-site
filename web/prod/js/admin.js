!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.flushCache=r.user=r.logout=r.login=void 0,r["default"]=function(e){var t=e.basicAuth,r=t.username,n=t.password,i=o["default"].wrap(s["default"],{mime:"application/json"}).wrap(c["default"]).wrap(d["default"]).wrap(p["default"],{username:r,password:n});return{fetchResource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({method:"GET",params:t,path:"/api/"+e.name+"{?page,expand,q,per-page}"}).then(function(e){return{pagination:{currentPage:parseInt(e.headers["X-Pagination-Current-Page"],10),pageCount:parseInt(e.headers["X-Pagination-Page-Count"],10),perPage:parseInt(e.headers["X-Pagination-Per-Page"],10),totalCount:parseInt(e.headers["X-Pagination-Total-Count"],10)},data:e.entity}})},fetchRecord:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i({method:"GET",params:r,path:"/api/"+e.name+"/"+t.id+"{?page,expand,q,per-page}"}).then(function(e){return{pagination:{currentPage:parseInt(e.headers["X-Pagination-Current-Page"],10),pageCount:parseInt(e.headers["X-Pagination-Page-Count"],10),perPage:parseInt(e.headers["X-Pagination-Per-Page"],10),totalCount:parseInt(e.headers["X-Pagination-Total-Count"],10)},data:e.entity}})},patchRecord:function(e,t){return i({path:"/api/"+e.name+"/"+t.id,method:"PATCH",entity:t})},postRecord:function(e,t){return i({path:"/api/"+e.name,method:"POST",entity:t})},deleteRecord:function(e,t){return i({path:"/api/"+e.name+"/"+t.id,method:"DELETE"})}}};var i=e("rest"),o=n(i),a=e("rest/interceptor/mime"),s=n(a),u=e("rest/interceptor/template"),c=n(u),l=e("rest/interceptor/errorCode"),d=n(l),h=e("rest/interceptor/basicAuth"),p=n(h),m=o["default"].wrap(d["default"]).wrap(c["default"]);r.login=function(e,t){var r=m.wrap(s["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return r({path:"/admin/login",entity:{username:e,password:t},method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},r.logout=function(){var e=m.wrap(s["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return e({path:"/admin/logout",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},r.user=function(){var e=m.wrap(s["default"],{mime:"application/json"});return e({path:"/admin/user",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},r.flushCache=function(){var e=m.wrap(s["default"],{mime:"application/json"});return e({path:"/admin/flush-cache",method:"GET"})}},{rest:"rest","rest/interceptor/basicAuth":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/basicAuth.js","rest/interceptor/errorCode":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/errorCode.js","rest/interceptor/mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/mime.js","rest/interceptor/template":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/app.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e("react"),a=e("react-markup"),s=e("bem-prefixer"),u=n(s),c=e("./presentational/auth"),l=n(c),d=e("./presentational/navigation"),h=n(d),p=e("./containers/news-tab"),m=n(p),f=e("./containers/tags-tab"),g=n(f),v=e("./../api"),b=n(v),x=e("./dao"),y=n(x),w="App",j=(0,u["default"])(w),k=(0,o.createClass)({getInitialState:function(){return{route:"/news",logined:!1,dataReady:!1,dao:null,data:null,language:"ru-RU"}},componentDidMount:function(){var e=this;(0,v.user)().then(function(t){e.setState({logined:!0,dao:(0,y["default"])((0,b["default"])({basicAuth:{username:t.accessToken,password:""}}))},function(){e.refresh()})})["catch"](function(e){console.error(e)})},refresh:function(){var e=this,t=this.state.dao;this.setState({dataReady:!1},function(){var r=t.newsItems(),n=t.tags();Promise.all([r,n]).then(function(e){return e.map(function(e){var t=e.data;return t})}).then(function(t){var r=i(t,2),n=r[0],o=r[1];e.setState({dataReady:!0,data:{newsItems:n,tags:o}})})})},navigate:function(e){this.setState({route:e})},auth:function(e,t){var r=this;(0,v.login)(e,t).then(function(){return(0,v.user)()}).then(function(){r.setState({logined:!0},function(){r.refresh()})})},handleCreateNewsItem:function(e){var t=this,r=this.state.dao;r.newsItemCreate(e).then(function(){t.refresh()})},handleUpdateNewsItem:function(e){var t=this,r=this.state.dao;r.newsItemUpdate(e).then(function(){t.refresh()})},handleDeleteNewsItem:function(e){var t=this,r=this.state.dao;r.newsItemDelete(e).then(function(){t.refresh()})},handleCreateTag:function(e){var t=this,r=this.state.dao;r.tagCreate(e).then(function(){t.refresh()})},handleDeleteTag:function(e){var t=this,r=this.state.dao;r.tagDelete(e).then(function(){t.refresh()})},handleUpdateTag:function(e){var t=this,r=this.state.dao;r.tagUpdate(e).then(function(){t.refresh()})},renderTab:function(){var e=this.state,t=e.dataReady,r=e.route,n=e.data;if(!t)return(0,a.h)("div","Loading data...");if("/news"===r)return(0,a.h)(m["default"],{data:n,onCreateItem:this.handleCreateNewsItem,onUpdateItem:this.handleUpdateNewsItem,onDeleteItem:this.handleDeleteNewsItem});if("/tags"===r)return(0,a.h)(g["default"],{data:n,onCreateTag:this.handleCreateTag,onDeleteTag:this.handleDeleteTag,onUpdateTag:this.handleUpdateTag});throw new Error('Unknown route: "'+r+'"')},render:function(){var e=this.state.logined;return e?(0,a.h)(j("div"),(0,a.h)(h["default"],{items:[{title:"News",path:"/news"},{title:"Tags",path:"/tags"}],onNavigate:this.navigate}),this.renderTab()):(0,a.h)(j("div"),(0,a.h)(l["default"],{onSignIn:this.auth}))}});r["default"]=k},{"./../api":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js","./containers/news-tab":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/containers/news-tab.js","./containers/tags-tab":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/containers/tags-tab.js","./dao":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/dao.js","./presentational/auth":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/auth.js","./presentational/navigation":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/navigation.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/containers/news-tab.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("../presentational/news/table/"),c=n(u),l=e("../presentational/news/edit-modal"),d=n(l),h=e("../presentational/news/control-panel"),p=n(h),m="NewsTab",f=(0,s["default"])(m);r["default"]=(0,i.createClass)({displayName:m,getInitialState:function(){return{lang:"en-US",selectedId:null,editingId:null,creating:!1}},handleChangeLanguage:function(e){this.setState({lang:e})},onSelectItem:function(e){this.setState({selectedId:e})},onEditItem:function(e){this.setState({editingId:e})},onDeleteItem:function(e){this.props.onDeleteItem(e)},handleCreateItemStart:function(){this.setState({creating:!0})},handleCreateItemCancel:function(){this.setState({creating:!1})},handleCreateItem:function(e){this.props.onCreateItem(e)},handleEditItemStart:function(e){this.setState({editingId:e})},handleEditItemCancel:function(){this.setState({editingId:null})},handleEditItem:function(e){this.props.onUpdateItem(e)},render:function(){var e=this.state,t=e.selectedId,r=e.editingId,n=e.creating,i=e.lang,a=this.props.data,s=a.newsItems.map(function(e){var r=e.id,n=e.title,o=e.tags,s=e.published;return{id:r,active:r===t,published:s,title:n[i],tags:o.map(function(e){var t=e.id,r=a.tags.filter(function(e){return e.id===t})[0];return{id:r.id,title:r.title[i]}})}}),u=a.tags.map(function(e){var t=e.id,r=e.title;return{id:t,title:r[i]}}),l=a.newsItems.filter(function(e){return e.id===t})[0],h=null;l&&(h={id:l.id,image:l.image_url,title:l.title[i],text:l.text[i]});var m=a.newsItems.filter(function(e){return e.id===r})[0],g=null;return m&&(g={id:m.id,date:new Date(m.date).getTime(),image:m.image_url,published:1===m.published,text:m.text,title:m.title,tags:m.tags.map(function(e){var t=e.id;return t})}),(0,o.h)(f("div"),n&&(0,o.h)(d["default"],{tags:u,onSave:this.handleCreateItem,onCancel:this.handleCreateItemCancel}),null!==g&&(0,o.h)(d["default"],{tags:u,item:g,onSave:this.handleEditItem,onCancel:this.handleEditItemCancel}),(0,o.h)(p["default"],{language:i,onCreate:this.handleCreateItemStart,onChangeLanguage:this.handleChangeLanguage}),(0,o.h)(c["default"],{onSelect:this.onSelectItem,onDelete:this.onDeleteItem,onEdit:this.handleEditItemStart,items:s,current:h}))}})},{"../presentational/news/control-panel":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/control-panel.js","../presentational/news/edit-modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/edit-modal.js","../presentational/news/table/":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/index.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/containers/tags-tab.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("../presentational/tags/table/"),c=n(u),l=e("../presentational/tags/edit-modal/"),d=n(l),h="TagsTab",p=(0,s["default"])(h);r["default"]=(0,i.createClass)({displayName:h,getInitialState:function(){return{creating:!1,editingId:null}},handleCreateStart:function(){this.setState({creating:!0})},handleCreateCancel:function(){this.setState({creating:!1})},handleCreate:function(e){this.props.onCreateTag(e),this.setState({creating:!1})},handleEditStart:function(e){this.setState({editingId:e})},handleEditCancel:function(e){this.setState({editingId:e})},handleEdit:function(e){this.props.onUpdateTag(e),this.setState({editingId:null})},render:function(){var e=this.props.data,t=e.tags,r=this.state,n=r.creating,i=r.editingId,a=t.filter(function(e){return e.id===i})[0],s=null;return a&&(s={id:a.id,title:a.title}),(0,o.h)(p("dim"),n&&(0,o.h)(d["default"],{onSave:this.handleCreate,onCancel:this.handleCreateCancel}),null!==s&&(0,o.h)(d["default"],{tag:s,onSave:this.handleEdit,onCancel:this.handleEditCancel}),(0,o.h)(c["default"],{tags:t,onCreate:this.handleCreateStart,onDelete:this.props.onDeleteTag,onEdit:this.handleEditStart}))}})},{"../presentational/tags/edit-modal/":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/edit-modal.js","../presentational/tags/table/":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/table.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/dao.js":[function(e,t,r){"use strict";function n(e){var t=e.getDate(),r=e.getMonth()+1,n=e.getFullYear();return r<10&&(r="0"+r),t<10&&(t="0"+t),n.toString()+"-"+r.toString()+"-"+t.toString()}Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r["default"]=function(e){return{newsItems:function(){return e.fetchResource(s,{expand:"title,text,tags"})},newsItem:function(t){return e.fetchRecord(s,{id:t},{expand:"title,text,tags"})},newsItemCreate:function(t){var r=t.title,i=t.text,d=t.published,h=t.date,p=t.tags,m=t.image;return Promise.all([e.postRecord(u,r),e.postRecord(c,i)]).then(function(e){return e.map(function(e){return e.entity})}).then(function(t){var r=o(t,2),i=r[0],a=r[1];return e.postRecord(s,{date:n(new Date(h)),image_url:m,published:d,title_id:i.id,text_id:a.id}).then(function(e){return e.entity})}).then(function(t){var r=t.id,n=p.map(function(t){return e.postRecord(l,{news_id:r,news_tags_id:t})});return Promise.all(n).then(function(e){return(0,a.flushCache)().then(function(){return e})})})},newsItemDelete:function(t){return e.deleteRecord(s,{id:t}).then(function(e){return(0,a.flushCache)().then(function(){return e})})},newsItemUpdate:function(t){var r=this,o=t.id,d=t.title,h=t.text,p=t.published,m=t.date,f=t.tags,g=t.image;return e.patchRecord(s,{id:o,date:n(new Date(m)),image_url:g,published:p}).then(function(){return r.newsItem(o)}).then(function(e){return e.data}).then(function(t){var r=Promise.all([e.patchRecord(u,i({id:t.title_id},d)),e.patchRecord(c,i({id:t.title_id},h))]),n=f.filter(function(e){return!t.tags.some(function(t){var r=t.id;return r===e})}),s=t.tags.map(function(e){var t=e.id;return t}).filter(function(e){return!f.some(function(t){return t===e})}),p=Promise.all(n.map(function(t){return e.postRecord(l,{news_id:o,news_tags_id:t})})),m=Promise.all(s.map(function(t){return e.fetchResource(l,{q:"news_id:"+o+";news_tags_id:"+t}).then(function(t){var r=t.data;return r.length>0?e.deleteRecord(l,{id:r[0].id}):Promise.reject("Tag link record not found")})}));return Promise.all([r,p,m]).then(function(e){return(0,a.flushCache)().then(function(){return e})})})},tags:function(){return e.fetchResource(d,{expand:"title"})},tag:function(t){return e.fetchRecord(d,{id:t},{expand:"title"})},tagCreate:function(t){var r=t.title;return e.postRecord(u,r).then(function(e){return e.entity}).then(function(t){return e.postRecord(d,{title_id:t.id}).then(function(e){return e.entity})}).then(function(e){return(0,a.flushCache)().then(function(){return e})})},tagDelete:function(t){return e.deleteRecord(d,{id:t}).then(function(e){return(0,a.flushCache)().then(function(){return e})})},tagUpdate:function(t){var r=t.id,n=t.title;return this.tag(r).then(function(e){return e.data}).then(function(t){return e.patchRecord(u,i({id:t.title_id},n))}).then(function(e){return(0,a.flushCache)().then(function(){return e})})}}};var a=e("../api"),s={name:"news-items"},u={name:"translation-strings"},c={name:"translation-texts"},l={name:"news-news-tags"},d={name:"news-tags"}},{"../api":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/api.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/auth.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="Auth",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,onSubmit:function(e){e.preventDefault(),this.props.onSignIn(this.username.value,this.password.value)},render:function(){var e=this;return(0,o.h)(c("form"),{onSubmit:this.onSubmit},(0,o.h)("label",(0,o.h)("div","Login"),(0,o.h)("input",{ref:function(t){e.username=t}})),(0,o.h)("label",(0,o.h)("div","Password"),(0,o.h)("input",{type:"password",ref:function(t){e.password=t}})),(0,o.h)("label",(0,o.h)("button",{type:"submit"},"Sign in")))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/language-switcher.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="LanguageSwitcher",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,handleChange:function(e){this.props.onChange(e)},render:function(){var e=this,t=[{title:"en",value:"en-US"},{title:"ru",value:"ru-RU"},{title:"es",value:"es-ES"}];return(0,o.h)(c("div"),t.map(function(t){var r=t.title,n=t.value;return(0,o.h)(c("div#item"+(n===e.props.value?".active":"")),{key:n,onClick:e.handleChange.bind(e,n)},r)}))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="Modal",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,render:function(){return(0,o.h)(c("div"),(0,o.h)(c("div#body"),this.props.children))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/navigation.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="Navigation",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,defaultProps:{active:"news"},render:function(){var e=this,t=this.props,r=t.active,n=t.items;return(0,o.h)(c("div"),n.map(function(t){var n=t.title,i=t.path;return(0,o.h)(c("div#item"+(n===r?".active":"")),{key:i},(0,o.h)("a",{href:"#"+i,onClick:e.props.onNavigate.bind(null,i)},n))}))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/control-panel.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("../language-switcher"),c=n(u),l="ControlPanel",d=(0,s["default"])(l);r["default"]=(0,i.createClass)({displayName:l,render:function(){return(0,o.h)(d("div"),(0,o.h)("button",{onClick:this.props.onCreate},"Create"),(0,o.h)(c["default"],{onChange:this.props.onChangeLanguage,value:this.props.language}))}})},{"../language-switcher":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/language-switcher.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/edit-modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=e("react"),s=e("react-markup"),u=e("bem-prefixer"),c=n(u),l=e("../modal"),d=n(l),h=e("./edit"),p=n(h),m="NewsEditModal",f=(0,c["default"])(m);r["default"]=(0,a.createClass)({displayName:m,getDefaultProps:function(){return{item:{id:null,published:!1,image:"",title:{"ru-RU":"","en-US":"","es-ES":""},text:{"ru-RU":"","en-US":"","es-ES":""},date:Date.now(),tags:[]}}},componentWillReceiveProps:function(e){this.setState({item:e.item})},getInitialState:function(){return{item:this.props.item}},handleChangeTitle:function(e,t){var r=this.state.item;this.setState({item:o({},r,{title:o({},r.title,i({},e,t))})})},handleChangeText:function(e,t){var r=this.state.item;this.setState({item:o({},r,{text:o({},r.text,i({},e,t))})})},handleChangePublished:function(e){var t=this.state.item;this.setState({item:o({},t,{published:e})})},handleChangeDate:function(e){var t=this.state.item;this.setState({item:o({},t,{date:e})})},handleChangeImage:function(e){var t=this.state.item;this.setState({item:o({},t,{image:e})})},handleChangeTags:function(e,t){var r=this.state.item,n=t?r.tags.filter(function(t){return t!==e}).concat([e]):r.tags.filter(function(t){return t!==e});this.setState({item:o({},r,{tags:n})})},handleSave:function(){this.props.onSave(this.state.item)},handleCancel:function(){this.props.onCancel()},render:function(){var e=this.props.tags,t=this.state.item;return(0,s.h)(d["default"],(0,s.h)(f("div"),(0,s.h)(f("div#body"),(0,s.h)(p["default"],{item:t,availableTags:e,onChangeTitle:this.handleChangeTitle,onChangeText:this.handleChangeText,onChangePublished:this.handleChangePublished,onChangeDate:this.handleChangeDate,onChangeTags:this.handleChangeTags,onChangeImage:this.handleChangeImage}),(0,s.h)(f("div#controls"),(0,s.h)("button",{onClick:this.handleSave},"Save"),(0,s.h)("button",{onClick:this.handleCancel},"Cancel")))))}})},{"../modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/modal.js","./edit":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/edit.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/edit.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.getDate(),r=e.getMonth()+1,n=e.getFullYear();return r<10&&(r="0"+r),t<10&&(t="0"+t),n.toString()+"-"+r.toString()+"-"+t.toString()}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=e("react-markup"),s=e("bem-prefixer"),u=n(s),c=e("../language-switcher"),l=n(c),d=e("./tag"),h=n(d),p="NewsEdit",m=(0,u["default"])(p);r["default"]=(0,o.createClass)({displayName:p,getInitialState:function(){return{titleLang:"en-US",textLang:"en-US"}},renderSpaceRow:function(){return(0,a.h)(m("tr#space-row"),(0,a.h)("td"),(0,a.h)("td"))},renderTitle:function(e){return(0,a.h)(m("tr#title-row"),(0,a.h)("td"),(0,a.h)("td",e))},renderInput:function(e,t){return(0,a.h)(m("tr#input-row"),(0,a.h)(m("td#modifiers"),e),(0,a.h)(m("td#input"),t))},handleChangeTitleLang:function(e){this.setState({titleLang:e})},handleChangeTextLang:function(e){this.setState({textLang:e})},handleChangeTitle:function(e){this.props.onChangeTitle(this.state.titleLang,e.target.value)},handleChangeText:function(e){this.props.onChangeText(this.state.textLang,e.target.value)},handleChangePublished:function(e){this.props.onChangePublished(e.target.checked)},handleChangeDate:function(e){this.props.onChangeDate(Date.parse(e.target.value))},handleChangeImage:function(e){this.props.onChangeImage(e.target.value)},handleChangeTag:function(e,t){this.props.onChangeTags(e,t.target.checked)},render:function(){var e=this,t=this.state,r=t.titleLang,n=t.textLang,o=this.props,s=o.availableTags,u=o.item;return(0,a.h)(m("div"),(0,a.h)(m("table#inputs"),(0,a.h)("tbody",this.renderTitle("Title"),this.renderInput((0,a.h)(l["default"],{value:r,onChange:this.handleChangeTitleLang}),(0,a.h)(m("input#title-input"),{value:u.title[r],onChange:this.handleChangeTitle})),this.renderSpaceRow(),this.renderInput((0,a.h)("input",{type:"checkbox",checked:u.published,onChange:this.handleChangePublished}),(0,a.h)("span","Published")),this.renderSpaceRow(),this.renderTitle("Date"),this.renderInput(null,(0,a.h)(m("input#date-input"),{type:"date",value:i(new Date(u.date)),onChange:this.handleChangeDate})),this.renderSpaceRow(),this.renderTitle("Image"),this.renderInput(null,(0,a.h)(m("input#date-input"),{value:u.image,onChange:this.handleChangeImage})),this.renderSpaceRow(),this.renderTitle("Body"),this.renderInput((0,a.h)(l["default"],{value:n,onChange:this.handleChangeTextLang}),(0,a.h)(m("textarea#body-input"),{value:u.text[n],onChange:this.handleChangeText})),this.renderSpaceRow(),this.renderTitle("Tags"),this.renderInput(null,(0,a.h)(m("div#tags"),s.map(function(t){var r=t.id,n=t.title;return(0,a.h)(m("div#tag"),{key:r},(0,a.h)("input",{type:"checkbox",onClick:e.handleChangeTag.bind(e,r),onChange:e.handleChangeTag.bind(e,r),checked:u.tags.some(function(e){return e===r})}),(0,a.h)(h["default"],{title:n}))}))))))}})},{"../language-switcher":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/language-switcher.js","./tag":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/tag.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/current.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("react-markdown"),c=n(u),l="NewsTableCurrent",d=(0,s["default"])(l);r["default"]=(0,i.createClass)({displayName:l,render:function(){var e=this.props,t=e.title,r=e.text,n=e.image;return(0,o.h)(d("div"),(0,o.h)(d("div#title"),t),(0,o.h)(d("img#image"),{src:n}),(0,o.h)(d("div#body"),(0,o.h)(c["default"],{escapeHtml:!0,source:r})))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markdown":"react-markdown","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/index.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("./list"),c=n(u),l=e("./current"),d=n(l),h="NewsTable",p=(0,s["default"])(h);r["default"]=(0,i.createClass)({displayName:h,render:function(){var e=this.props,t=e.items,r=e.current,n=e.onSelect,i=e.onDelete,a=e.onEdit;return(0,o.h)(p("div"),(0,o.h)(p("div#left"),(0,o.h)(c["default"],{items:t,onSelect:n,onDelete:i,onEdit:a})),(0,o.h)(p("div#right"),null!==r?(0,o.h)(d["default"],r):(0,o.h)("div","")))}})},{"./current":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/current.js","./list":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/list.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/table/list.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u=e("../tag"),c=n(u),l="NewsTableList",d=(0,s["default"])(l);r["default"]=(0,i.createClass)({displayName:l,onSelect:function(e){this.props.onSelect(e)},handleDelete:function(e,t){t.stopPropagation(),this.props.onDelete(e)},handleEdit:function(e,t){t.stopPropagation(),this.props.onEdit(e)},render:function(){var e=this,t=this.props.items;return(0,o.h)(d("div"),(0,o.h)(d("div#items"),t.map(function(t){var r=t.id,n=t.title,i=t.published,a=t.active,s=t.tags;return(0,o.h)(d("div#item"+(a?".active":"")+(i?"":".unpublished")),{key:r,onClick:e.onSelect.bind(e,r)},(0,o.h)(d("div#item-title"),n),(0,o.h)(d("div#item-tags"),s.map(function(e){var t=e.id,r=e.title;return(0,o.h)(d("div#item-tag"),{key:t},(0,o.h)(c["default"],{title:r}))})),(0,o.h)(d("div#controls"),(0,o.h)("button",{onClick:e.handleEdit.bind(e,r)},"Edit"),(0,o.h)("button",{onClick:e.handleDelete.bind(e,r)},"Delete")))})))}})},{"../tag":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/tag.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/news/tag.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="Tag",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,render:function(){var e=this.props.title;return(0,o.h)(c("div"),e)}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/edit-modal.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=e("react"),s=e("react-markup"),u=e("bem-prefixer"),c=n(u),l=e("../modal"),d=n(l),h=e("./edit"),p=n(h),m="TagsEditModal",f=(0,c["default"])(m);r["default"]=(0,a.createClass)({displayName:m,getDefaultProps:function(){return{tag:{title:{"ru-RU":"","en-US":"","es-ES":""}}}},componentWillReceiveProps:function(e){this.setState({tag:e.tag})},getInitialState:function(){return{tag:this.props.tag}},handleChangeTitle:function(e,t){var r=this.state;this.setState(o({},r,{tag:o({},r.tag,{title:o({},r.tag.title,i({},e,t))})}))},handleSave:function(){this.props.onSave(this.state.tag)},render:function(){return(0,s.h)(d["default"],(0,s.h)(f("div"),(0,s.h)(f("div#body"),(0,s.h)(p["default"],{tag:this.state.tag,onChangeTitle:this.handleChangeTitle}),(0,s.h)(f("div#controls"),(0,s.h)("button",{onClick:this.handleSave},"Save"),(0,s.h)("button",{onClick:this.props.onCancel},"Cancel")))))}})},{"../modal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/modal.js","./edit":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/edit.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/edit.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="TagsEdit",c=(0,s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,handleChangeTitle:function(e,t){this.props.onChangeTitle(e,t.target.value)},render:function(){var e=this.props.tag.title;return(0,o.h)(c("div"),(0,o.h)(c("div#inputs"),(0,o.h)(c("label#input-group"),(0,o.h)(c("div#label"),"Russian"),(0,o.h)(c("input#input"),{value:e["ru-RU"],onChange:this.handleChangeTitle.bind(this,"ru-RU")})),(0,o.h)(c("label#input-group"),(0,o.h)(c("div#label"),"English"),(0,o.h)(c("input#input"),{value:e["en-US"],onChange:this.handleChangeTitle.bind(this,"en-US")})),(0,o.h)(c("label#input-group"),(0,o.h)(c("div#label"),"Spanish"),(0,o.h)(c("input#input"),{value:e["es-ES"],onChange:this.handleChangeTitle.bind(this,"es-ES")}))))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/presentational/tags/table.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=n(a),u="TagsTable",c=(0,
s["default"])(u);r["default"]=(0,i.createClass)({displayName:u,handleDelete:function(e){this.props.onDelete(e)},handleEdit:function(e){this.props.onEdit(e)},render:function(){var e=this,t=["ru-RU","en-US","es-ES"],r=this.props.tags;return(0,o.h)(c("div"),(0,o.h)(c("div#controls"),(0,o.h)("button",{onClick:this.props.onCreate},"Create")),(0,o.h)(c("table#table"),(0,o.h)(c("thead"),(0,o.h)("tr",t.map(function(e){return(0,o.h)("th",{key:e},e)}))),(0,o.h)(c("tbody"),r.map(function(r){var n=r.id,i=r.title;return(0,o.h)(c("tr#tag-row"),{key:n},t.map(function(e){return(0,o.h)(c("td#title-cell"),{key:e},(0,o.h)("div",i[e]))}).concat([(0,o.h)(c("td#controls-cell"),{key:"controls"},(0,o.h)("button",{onClick:e.handleEdit.bind(e,n)},"Edit"),(0,o.h)("button",{onClick:e.handleDelete.bind(e,n)},"Delete"))]))}))))}})},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-admin.js":[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=e("react-dom"),o=n(i),a=e("react-markup"),s=e("./admin/main/app"),u=n(s);e("is-nan").shim(),document.addEventListener("DOMContentLoaded",function(){o["default"].render((0,a.h)(u["default"]),document.getElementById("react"))})},{"./admin/main/app":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/admin/main/app.js","is-nan":"is-nan","react-dom":"react-dom","react-markup":"react-markup"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/UrlBuilder.js":[function(e,t,r){"use strict";function n(e,t){var r,n,i,o,a;if(r=e,i={},t){for(n in t)a=new RegExp("\\{"+n+"\\}"),a.test(r)?r=r.replace(a,encodeURIComponent(t[n]),"g"):i[n]=t[n];o=s.write(i),o&&(r+=r.indexOf("?")===-1?"?":"&",r+=o)}return r}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=a({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var a,s,u,c,l,d;a=e("./util/mixin"),s=e("./mime/type/application/x-www-form-urlencoded"),c=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,l=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,d=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,a({},this._params,t))},fullyQualify:function(){if("undefined"==typeof location)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=u.protocol+e:i(e,"/")?e=u.origin+e:this.isAbsolute()||(e=u.origin+u.pathname.substring(0,u.pathname.lastIndexOf("/")+1)),e.indexOf("/",8)===-1&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return l.test(this.build())},isFullyQualified:function(){return d.test(this.build())},isCrossOrigin:function(){if(!u)return!0;var e=this.parts();return e.protocol!==u.protocol||e.hostname!==u.hostname||e.port!==u.port},parts:function h(){var e,h;return e=this.fullyQualify().build().match(c),h={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},h.origin=h.protocol+"//"+h.host,h.port=h.port||("https:"===h.protocol?"443":"http:"===h.protocol?"80":""),h},build:function(e){return n(this._template,a({},this._params,e))},toString:function(){return this.build()}},u="undefined"!=typeof location?new o(location.href).parts():void 0,t.exports=o},{"./mime/type/application/x-www-form-urlencoded":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js","./util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js":[function(e,t,r){"use strict";t.exports=function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,r){return t(e,r)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client/default.js":[function(e,t,r){"use strict";function n(){return o.apply(void 0,arguments)}var i,o,a;i=e("../client"),"function"!=typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),n.setDefaultClient=function(e){o=e},n.getDefaultClient=function(){return o},n.resetDefaultClient=function(){o=a},n.setPlatformDefaultClient=function(e){if(a)throw new Error("Unable to redefine platformDefaultClient");o=a=e},t.exports=i(n)},{"../client":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js":[function(e,t,r){"use strict";function n(e){return e}function i(e){return e}function o(e){return e}function a(e){return this instanceof a?void c(this,e):new a(e)}function s(e){var t,r,s,c;return e=e||{},t=e.init||n,r=e.request||i,s=e.success||e.response||o,c=e.error||function(){return Promise.resolve((e.response||o).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(n,i){function o(e){var t,u;return t={},u={arguments:Array.prototype.slice.call(arguments),client:o},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||o,l(r.call(t,e,i,u),function(e){var r,o,l;return l=n,e instanceof a&&(o=e.abort,l=e.client||l,r=e.response,e=e.request),r=r||Promise.resolve(e).then(function(e){return Promise.resolve(l(e)).then(function(e){return s.call(t,e,i,u)},function(e){return c.call(t,e,i,u)})}),o?Promise.race([r,o]):r},function(t){return Promise.reject({request:e,error:t})})}return"object"===("undefined"==typeof n?"undefined":h(n))&&(i=n),"function"!=typeof n&&(n=e.client||u),i=t(i||{}),d(o,n)}}var u,c,l,d,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};u=e("./client/default"),c=e("./util/mixin"),l=e("./util/responsePromise"),d=e("./client"),s.ComplexRequest=a,t.exports=s},{"./client":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client.js","./client/default":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/client/default.js","./util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js","./util/responsePromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/basicAuth.js":[function(e,t,r){"use strict";var n,i;n=e("../interceptor"),i=e("../util/base64"),t.exports=n({request:function(e,t){var r,n,o;return r=e.headers||(e.headers={}),n=e.username||t.username,o=e.password||t.password||"",n&&(r.Authorization="Basic "+i.encode(n+":"+o)),e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../util/base64":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/base64.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/errorCode.js":[function(e,t,r){"use strict";var n;n=e("../interceptor"),t.exports=n({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?Promise.reject(e):e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/mime.js":[function(e,t,r){"use strict";var n,i,o,a,s,u;n=e("../interceptor"),i=e("../mime"),o=e("../mime/registry"),u=e("../util/attempt"),a={read:function(e){return e},write:function(e){return e}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=n({init:function(e){return e.registry=e.registry||o,e},request:function(e,t){var r,n;return n=e.headers||(e.headers={}),r=i.parse(n["Content-Type"]||t.mime||"text/plain"),n.Accept=n.Accept||t.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?(n["Content-Type"]=r.raw,t.registry.lookup(r)["catch"](function(){if(t.permissive)return a;throw"mime-unknown"}).then(function(n){var i=t.client||e.originator,o=n.write||s.write;return u(o.bind(void 0,e.entity,{client:i,request:e,mime:r,registry:t.registry}))["catch"](function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})})):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var r=i.parse(e.headers["Content-Type"]);return t.registry.lookup(r)["catch"](function(){return a}).then(function(n){var i=t.client||e.request&&e.request.originator,o=n.read||s.read;return u(o.bind(void 0,e.entity,{client:i,response:e,mime:r,registry:t.registry}))["catch"](function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js","../mime/registry":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/registry.js","../util/attempt":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/pathPrefix.js":[function(e,t,r){"use strict";function n(e,t){return 0===e.indexOf(t)}function i(e,t){return e.lastIndexOf(t)+t.length===e.length}var o,a;o=e("../interceptor"),a=e("../UrlBuilder"),t.exports=o({request:function(e,t){var r;return t.prefix&&!new a(e.path).isFullyQualified()&&(r=t.prefix,e.path&&(i(r,"/")||n(e.path,"/")||(r+="/"),r+=e.path),e.path=r),e}})},{"../UrlBuilder":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/UrlBuilder.js","../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js":[function(e,t,r){"use strict";var n,i,o;n=e("../interceptor"),i=e("../util/uriTemplate"),o=e("../util/mixin"),t.exports=n({init:function(e){return e.params=e.params||{},e.template=e.template||"",e},request:function(e,t){var r,n;return r=e.path||t.template,n=o({},e.params,t.params),e.path=i.expand(r,n),delete e.params,e}})},{"../interceptor":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor.js","../util/mixin":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js","../util/uriTemplate":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriTemplate.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js":[function(e,t,r){"use strict";function n(e){var t,r;return t=e.split(";"),r=t[0].trim().split("+"),{raw:e,type:r[0],suffix:r[1]?"+"+r[1]:"",params:t.slice(1).reduce(function(e,t){return t=t.split("="),e[t[0].trim()]=t[1]?t[1].trim():void 0,e},{})}}t.exports={parse:n}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/registry.js":[function(e,t,r){"use strict";function n(e){this.lookup=function(t){var r;return r="string"==typeof t?i.parse(t):t,e[r.raw]?e[r.raw]:e[r.type+r.suffix]?e[r.type+r.suffix]:e[r.type]?e[r.type]:e[r.suffix]?e[r.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+r.raw+'"'))},this.delegate=function(e){return{read:function(){var t=arguments;return this.lookup(e).then(function(e){return e.read.apply(this,t)}.bind(this))}.bind(this),write:function(){var t=arguments;return this.lookup(e).then(function(e){return e.write.apply(this,t)}.bind(this))}.bind(this)}},this.register=function(t,r){return e[t]=Promise.resolve(r),e[t]},this.child=function(){return new n(Object.create(e))}}var i,o;i=e("../mime"),o=new n({}),o.register("application/hal",e("./type/application/hal")),o.register("application/json",e("./type/application/json")),o.register("application/x-www-form-urlencoded",e("./type/application/x-www-form-urlencoded")),o.register("multipart/form-data",e("./type/multipart/form-data")),o.register("text/plain",e("./type/text/plain")),o.register("+json",o.delegate("application/json")),t.exports=o},{"../mime":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime.js","./type/application/hal":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/hal.js","./type/application/json":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/json.js","./type/application/x-www-form-urlencoded":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js","./type/multipart/form-data":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/multipart/form-data.js","./type/text/plain":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/text/plain.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/hal.js":[function(e,t,r){"use strict";function n(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!0,enumerable:!1,writeable:!0})}var i,o,a,s,u;i=e("../../../interceptor/pathPrefix"),o=e("../../../interceptor/template"),a=e("../../../util/find"),s=e("../../../util/lazyPromise"),u=e("../../../util/responsePromise"),t.exports={read:function(e,t){function r(e,t){(t&&l&&l.warn||l.log)&&(l.warn||l.log).call(l,"Relationship '"+e+"' is deprecated, see "+t)}var c,l;return t=t||{},c=t.client,l=t.console||l,t.registry.lookup(t.mime.suffix).then(function(r){return r.read(e,t)}).then(function(e){return a.findProperties(e,"_embedded",function(e,t,r){Object.keys(e).forEach(function(r){if(!(r in t)){var i=u({entity:e[r]});n(t,r,i)}}),n(t,r,e)}),a.findProperties(e,"_links",function(e,t,a){Object.keys(e).forEach(function(i){var a=e[i];i in t||n(t,i,u.make(s(function(){return a.deprecation&&r(i,a.deprecation),a.templated===!0?o(c)({path:a.href}):c({path:a.href})})))}),n(t,a,e),n(t,"clientFor",function(t,n){var a=e[t];if(!a)throw new Error("Unknown relationship: "+t);return a.deprecation&&r(t,a.deprecation),a.templated===!0?o(n||c,{template:a.href}):i(n||c,{prefix:a.href})}),n(t,"requestFor",function(e,t,r){var n=this.clientFor(e,r);return n(t)})}),e})},write:function(e,t){return t.registry.lookup(t.mime.suffix).then(function(r){return r.write(e,t)})}}},{"../../../interceptor/pathPrefix":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/pathPrefix.js","../../../interceptor/template":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/interceptor/template.js","../../../util/find":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/find.js","../../../util/lazyPromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/lazyPromise.js","../../../util/responsePromise":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/json.js":[function(e,t,r){"use strict";function n(e,t){return{read:function(t){return JSON.parse(t,e)},write:function(e){return JSON.stringify(e,t)},extend:n}}t.exports=n()},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/application/x-www-form-urlencoded.js":[function(e,t,r){"use strict";function n(e){return e=encodeURIComponent(e),e.replace(a,"+")}function i(e){return e=e.replace(s," "),decodeURIComponent(e)}function o(e,t,r){return Array.isArray(r)?r.forEach(function(r){e=o(e,t,r)}):(e.length>0&&(e+="&"),e+=n(t),void 0!==r&&null!==r&&(e+="="+n(r))),e}var a,s;a=/%20/g,s=/\+/g,t.exports={read:function(e){var t={};return e.split("&").forEach(function(e){var r,n,o;r=e.split("="),n=i(r[0]),o=2===r.length?i(r[1]):null,n in t?(Array.isArray(t[n])||(t[n]=[t[n]]),t[n].push(o)):t[n]=o}),t},write:function(e){var t="";return Object.keys(e).forEach(function(r){t=o(t,r,e[r])}),t}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/multipart/form-data.js":[function(e,t,r){"use strict";function n(e){return e&&1===e.nodeType&&"FORM"===e.tagName}function i(e){var t,r=new FormData;for(var n in e)e.hasOwnProperty(n)&&(t=e[n],t instanceof File?r.append(n,t,t.name):t instanceof Blob?r.append(n,t):r.append(n,String(t)));return r}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports={write:function(e){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(e instanceof FormData)return e;if(n(e))return new FormData(e);if("object"===("undefined"==typeof e?"undefined":o(e))&&null!==e)return i(e);throw new Error("Unable to create FormData from object "+e)}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/mime/type/text/plain.js":[function(e,t,r){"use strict";t.exports={read:function(e){return e},write:function(e){return e.toString()}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js":[function(e,t,r){"use strict";function n(e){try{return Promise.resolve(e())}catch(t){return Promise.reject(t)}}t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/base64.js":[function(e,t,r){"use strict";function n(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("Can't base64 encode non-ASCII characters.");for(var t,r,n,i=0,a=[];i<e.length;){switch(t=e.charCodeAt(i),n=i%3){case 0:a.push(o.charAt(t>>2));break;case 1:a.push(o.charAt((3&r)<<4|t>>4));break;case 2:a.push(o.charAt((15&r)<<2|t>>6)),a.push(o.charAt(63&t))}r=t,i+=1}return 0===n?(a.push(o.charAt((3&r)<<4)),a.push("==")):1===n&&(a.push(o.charAt((15&r)<<2)),a.push("=")),a.join("")}function i(e){if(e=e.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(e)||e.length%4>0)throw new Error("Not a base64-encoded string.");var t,r,n,i=0,a=[];for(e=e.replace(/\=/g,"");i<e.length;){switch(t=o.indexOf(e.charAt(i)),n=i%4){case 1:a.push(String.fromCharCode(r<<2|t>>4));break;case 2:a.push(String.fromCharCode((15&r)<<4|t>>2));break;case 3:a.push(String.fromCharCode((3&r)<<6|t))}r=t,i+=1}return a.join("")}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:n,decode:i}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/find.js":[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports={findProperties:function i(e,t,r){"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e&&(t in e&&r(e[t],e,t),Object.keys(e).forEach(function(n){i(e[n],t,r)}))}}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/lazyPromise.js":[function(e,t,r){"use strict";function n(e){var t,r,n,o;return t=!1,n=new Promise(function(e,t){r={resolve:e,reject:t}}),o=n.then,n.then=function(){return t||(t=!0,i(e).then(r.resolve,r.reject)),o.apply(n,arguments)},n}var i=e("./attempt");t.exports=n},{"./attempt":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/attempt.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/mixin.js":[function(e,t,r){"use strict";function n(e){var t,r,n,o;for(e||(e={}),t=1,r=arguments.length;t<r;t+=1){n=arguments[t];for(o in n)o in e&&(e[o]===n[o]||o in i&&i[o]===n[o])||(e[o]=n[o])}return e}var i={};t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/normalizeHeaderName.js":[function(e,t,r){"use strict";function n(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}t.exports=n},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/responsePromise.js":[function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return e&&e[t]},function(e){return Promise.reject(e&&e[t])})}function i(){return n(this,"entity")}function o(){return n(n(this,"status"),"code")}function a(){return n(this,"headers")}function s(e){return e=d(e),n(this.headers(),e)}function u(e){return e=[].concat(e),c(e.reduce(function(e,t){return e.then(function(e){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var r=e.entity.clientFor(t.rel);return r({params:t.params})})},this))}function c(e){return e.status=o,e.headers=a,e.header=s,e.entity=i,e.follow=u,e}function l(e,t,r){return c(Promise.resolve(e).then(t,r))}var d=e("./normalizeHeaderName");l.make=c,l.reject=function(e){return c(Promise.reject(e))},l.promise=function(e){return c(new Promise(e))},t.exports=l},{"./normalizeHeaderName":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/normalizeHeaderName.js"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriEncoder.js":[function(e,t,r){"use strict";function n(e,t){if("string"!=typeof e)throw new Error("String required for URL encoding");return e.split("").map(function(e){if(t.hasOwnProperty(e))return e;var r=e.charCodeAt(0);if(r<=127){var n=r.toString(16).toUpperCase();return"%"+(n.length%2===1?"0":"")+n}return encodeURIComponent(e).toUpperCase()}).join("")}function i(e){return e=e||a.unreserved,function(t){return n(t,e)}}function o(e){return decodeURIComponent(e)}var a;a=function(){var e={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return e.genDelims=":/?#[]@",e.subDelims="!$&'()*+,;=",e.reserved=e.genDelims+e.subDelims,e.unreserved=e.alpha+e.digit+"-._~",e.url=e.reserved+e.unreserved,e.scheme=e.alpha+e.digit+"+-.",e.userinfo=e.unreserved+e.subDelims+":",e.host=e.unreserved+e.subDelims,e.port=e.digit,e.pchar=e.unreserved+e.subDelims+":@",e.segment=e.pchar,e.path=e.segment+"/",e.query=e.pchar+"/?",e.fragment=e.pchar+"/?",Object.keys(e).reduce(function(t,r){return t[r]=e[r].split("").reduce(function(e,t){return e[t]=!0,e},{}),t},{})}(),t.exports={decode:o,encode:i(),encodeURL:i(a.url),encodeScheme:i(a.scheme),encodeUserInfo:i(a.userinfo),encodeHost:i(a.host),encodePort:i(a.port),encodePathSegment:i(a.segment),encodePath:i(a.path),encodeQuery:i(a.query),encodeFragment:i(a.fragment)}},{}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriTemplate.js":[function(e,t,r){"use strict";function n(e,t,r){return t.split(",").reduce(function(t,n){var i,o;if(i={},"*"===n.slice(-1)&&(n=n.slice(0,-1),i.explode=!0),u.test(n)){var s=u.exec(n);n=s[1],i.maxLength=parseInt(s[2])}return n=a.decode(n),o=r[n],void 0===o||null===o?t:(Array.isArray(o)?t=o.reduce(function(t,r){return t.length?(t+=i.explode?e.separator:",",e.named&&i.explode&&(t+=e.encoder(n),t+=r.length?"=":e.empty)):(t+=e.first,e.named&&(t+=e.encoder(n),t+=r.length?"=":e.empty)),t+=e.encoder(r)},t):"object"===("undefined"==typeof o?"undefined":c(o))?t=Object.keys(o).reduce(function(t,r){return t.length?t+=i.explode?e.separator:",":(t+=e.first,e.named&&!i.explode&&(t+=e.encoder(n),t+=o[r].length?"=":e.empty)),t+=e.encoder(r),t+=i.explode?"=":",",t+=e.encoder(o[r])},t):(o=String(o),i.maxLength&&(o=o.slice(0,i.maxLength)),t+=t.length?e.separator:e.first,e.named&&(t+=e.encoder(n),t+=o.length?"=":e.empty),t+=e.encoder(o)),t)},"")}function i(e,t){var r;if(r=s[e.slice(0,1)],r?e=e.slice(1):r=s[""],r.reserved)throw new Error("Reserved expression operations are not supported");return n(r,e,t)}function o(e,t){var r,n,o;for(o="",n=0;;){if(r=e.indexOf("{",n),r===-1){o+=e.slice(n);break}o+=e.slice(n,r),n=e.indexOf("}",r)+1,o+=i(e.slice(r+1,n-1),t)}return o}var a,s,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=e("./uriEncoder"),u=/^([^:]*):([0-9]+)$/,s={"":{first:"",separator:",",named:!1,empty:"",encoder:a.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:a.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:a.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:a.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:a.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:a.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:a.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:a.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:o}},{"./uriEncoder":"/Users/koluch/Dropbox/dev/misc/hehe/repo/node_modules/rest/util/uriEncoder.js"}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-admin.js"]);