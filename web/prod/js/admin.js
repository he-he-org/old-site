!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({"/var/www/site/js/admin/alerts.js":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.error=function r(e){var r=document.createElement("div");r.classList.add("Alert--error");var t=document.createElement("div");t.textContent="âœ–",t.classList.add("Alert__close"),t.addEventListener("click",function(){document.body.removeChild(r)}),r.appendChild(t);var n=document.createElement("div");n.textContent=e,t.classList.add("Alert__body"),r.appendChild(n),document.body.firstChild?document.body.insertBefore(r,document.body.firstChild):document.body.appendChild(r);var i=1e4;setTimeout(function(){return document.body.removeChild(r)},i)}},{}],"/var/www/site/js/admin/api.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.user=n.logout=n.login=void 0,n["default"]=function(e){var t=e.basicAuth,n=t.username,r=t.password,i=o["default"].wrap(s["default"],{mime:"application/json"}).wrap(c["default"]).wrap(d["default"]).wrap(f["default"],{username:n,password:r});return{fetchResource:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i({method:"GET",params:t,path:"/api/"+e.name+"{?page,expand,q,per-page}"}).then(function(e){return{pagination:{currentPage:parseInt(e.headers["X-Pagination-Current-Page"],10),pageCount:parseInt(e.headers["X-Pagination-Page-Count"],10),perPage:parseInt(e.headers["X-Pagination-Per-Page"],10),totalCount:parseInt(e.headers["X-Pagination-Total-Count"],10)},data:e.entity}})},patchRecord:function(e,t){return i({path:"/api/"+e.name+"/"+t.id,method:"PATCH",entity:t})},postRecord:function(e,t){return i({path:"/api/"+e.name,method:"POST",entity:t})},deleteRecord:function(e,t){return i({path:"/api/"+e.name+"/"+t.id,method:"DELETE"})}}};var i=e("rest"),o=r(i),a=e("rest/interceptor/mime"),s=r(a),u=e("rest/interceptor/template"),c=r(u),l=e("rest/interceptor/errorCode"),d=r(l),p=e("rest/interceptor/basicAuth"),f=r(p),m=o["default"].wrap(d["default"]).wrap(c["default"]);n.login=function(e,t){var n=m.wrap(s["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return n({path:"/admin/login",entity:{username:e,password:t},method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},n.logout=function(){var e=m.wrap(s["default"],{mime:"application/x-www-form-urlencoded"}).wrap(c["default"]);return e({path:"/admin/logout",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})},n.user=function(){var e=m.wrap(s["default"],{mime:"application/json"});return e({path:"/admin/user",method:"POST"}).then(function(e){return e.entity})["catch"](function(e){throw e.status})}},{rest:"rest","rest/interceptor/basicAuth":"/var/www/site/node_modules/rest/interceptor/basicAuth.js","rest/interceptor/errorCode":"/var/www/site/node_modules/rest/interceptor/errorCode.js","rest/interceptor/mime":"/var/www/site/node_modules/rest/interceptor/mime.js","rest/interceptor/template":"/var/www/site/node_modules/rest/interceptor/template.js"}],"/var/www/site/js/admin/app.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=e("react"),s=e("react-markup"),u=e("react-router"),c=e("functional-utils"),l=e("./api"),d=e("./navigation"),p=r(d),f=e("./auth"),m=r(f),h=e("./table-view"),w=r(h),y=e("./data-access"),v=r(y),g=function _(e,t){if("object"!==("undefined"==typeof e?"undefined":o(e))||"object"!==("undefined"==typeof t?"undefined":o(t))||Array.isArray(e)||Array.isArray(t))return t;var n=(0,c.merge)({},e);return Object.keys(t).forEach(function(r){r in e?n[r]=_(e[r],t[r]):n[r]=t[r]}),n},b=function(e){var t=e.scheme,n=e.renderers,r=n;return t.forEach(function(e){var t={};e.attrs.forEach(function(e){var n=null;n="manyToOne"===e.type?function(e){return null===e?"null":"["+e.id+"]"}:"manyToMany"===e.type?function(e){return null===e?"null":"["+e.map(function(e){return e.id}).join(", ")+"]"}:function(e){return null===e?"null":e},t=(0,c.merge)(t,i({},e.name,n))}),r=(0,c.merge)(r,i({},e.name,t))}),(0,c.merge)(e,{renderers:g(r,n)})},j=(0,a.createClass)({displayName:"App",getInitialState:function(){return{logined:!1,dao:null}},auth:function(e,t){var n=this;(0,l.login)(e,t).then(function(){return(0,l.user)()}).then(function(e){var t=n.props.route.config;n.setState({logined:!0,dao:(0,v["default"])({config:t,api:{basicAuth:{username:e.accessToken,password:""}}})})})},logout:function(){var e=this;(0,l.logout)().then(function(){e.setState({logined:!1,dao:null})})},componentDidMount:function(){var e=this;(0,l.user)().then(function(t){var n=e.props.route.config;e.setState({logined:!0,dao:(0,v["default"])({config:n,api:{basicAuth:{username:t.accessToken,password:""}}})})})["catch"](function(e){console.error(e)})},render:function(){var e=this.props.route.config,t=e.scheme,n=this.state,r=n.logined,i=n.dao,o=this.props.params.resource,a=void 0===o?"translation-strings":o,u=t.filter(function(e){return e.name===a})[0];return r?(0,s.h)("div",(0,s.h)(m["default"],{logined:r,onLogin:this.auth,onLogout:this.logout}),(0,s.h)(p["default"],{items:t,activeItem:u}),(0,s.h)(w["default"],{resourceName:a,context:{config:e,dao:i}})):(0,s.h)("div",(0,s.h)(m["default"],{logined:r,onLogin:this.auth}))}}),x=(0,a.createClass)({render:function(){var e=this.props.config,t=b(e);return(0,s.h)(u.Router,{history:u.hashHistory},(0,s.h)(u.Route,{path:"/:resource",component:j,config:t}),(0,s.h)(u.Route,{path:"/",component:j,config:t}))}});n["default"]=x},{"./api":"/var/www/site/js/admin/api.js","./auth":"/var/www/site/js/admin/auth.js","./data-access":"/var/www/site/js/admin/data-access.js","./navigation":"/var/www/site/js/admin/navigation.js","./table-view":"/var/www/site/js/admin/table-view.js","functional-utils":"functional-utils",react:"react","react-markup":"react-markup","react-router":"react-router"}],"/var/www/site/js/admin/auth.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=r(a),u=(0,s["default"])("Auth"),c=(0,i.createClass)({displayName:"Auth",auth:function(e){e.preventDefault(),this.props.onLogin(this.usernameEl.value,this.passwordEl.value)},logout:function(){this.props.onLogout()},render:function(){var e=this,t=this.props.logined;return(0,o.h)(u("div"),t?(0,o.h)("div",(0,o.h)("span","Authorized"),(0,o.h)("button",{onClick:this.logout},"Logout")):(0,o.h)("form",{onSubmit:this.auth},(0,o.h)("input",{ref:function(t){e.usernameEl=t},placeholder:"username"}),(0,o.h)("input",{ref:function(t){e.passwordEl=t},placeholder:"password"}),(0,o.h)("button",{type:"submit"},"auth")))}});n["default"]=c},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/data-access.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n["default"]=function(e){var t=e.config,n=t.scheme,r=t.expandings,u=e.api,l=(0,c["default"])(u);return{fetchResource:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r[e],a=function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments[2],i=[];r.forEach(function(e){"string"==typeof e?i.push(e):i.push(e[0])});var a=t;i.length>0&&(a=(0,s.merge)(a,{expand:i.join(",")}));var c=r.filter(function(e){return Array.isArray(e)}),d=n.filter(function(t){return t.name===e})[0];return l.fetchResource(d,a).then(function(e){var t=c.map(function(t){var n=t[0],r=d.attrs.filter(function(e){return e.name===n})[0],i=r[r.type].to,a=t[1],s=null;if("manyToMany"===r.type){var c;s=(c=[]).concat.apply(c,o(e.data.map(function(e){return e[r.name].map(function(e){return e.id})})))}else{if("manyToOne"!==r.type)throw new Error("Not supported yet: "+r.type);s=e.data.map(function(e){return e[r.name].id})}if(0!==s.length){var l={q:"id:["+s.join(",")+"]","per-page":s.length};return u(i,l,a).then(function(e){return{attr:r,entities:e.data}})}return{attr:r,entities:[]}});return Promise.all(t).then(function(t){var n=e.data.map(function(e){var n=(0,s.merge)({},e);return t.forEach(function(e){var t=e.attr,r=e.entities;if("manyToMany"===t.type){var i=r.filter(function(e){return n[t.name].filter(function(t){return t.id===e.id}).length>0});n[t.name]=i}else{if("manyToOne"!==t.type)throw new Error("Relation type is not supported yet: "+t.type);var o=r.filter(function(e){return n[t.name].id===e.id});if(1!==o.length)throw new Error("Bad objects count: "+o.length);n[t.name]=o[0]}}),n});return(0,s.merge)(e,{data:n})})})};return a(e,t,i)},updateRecord:function(e,t,r){var u=n.filter(function(t){return t.name===e})[0],c=u.attrs.reduce(function(e,u){if("manyToOne"===u.type)return e.then(function(e){return(0,s.merge)(e,i({},u[u.type].fromAttr,t[u.name].id))});if("manyToMany"!==u.type)return e.then(function(e){return(0,s.merge)(e,i({},u.name,t[u.name]))});var c=function(){var a=r[u.name],s=t[u.name],c=s.filter(function(e){return 0===a.filter(function(t){return t.id===e.id}).length}),d=a.filter(function(e){return 0===s.filter(function(t){return t.id===e.id}).length}),p=u[u.type],f=n.filter(function(e){return e.name===p.via})[0];return{v:l.fetchResource(f,{q:p.fromAttr+":"+t.id}).then(function(n){var r=n.data,a=c.map(function(e){var n;return l.postRecord(f,(n={},i(n,p.fromAttr,t.id),i(n,p.toAttr,e.id),n))}),s=d.map(function(e){return l.deleteRecord(f,r.filter(function(t){return t[p.toAttr]===e.id})[0])});return Promise.all([].concat(o(a),o(s))).then(function(){return e})})}}();return"object"===("undefined"==typeof c?"undefined":a(c))?c.v:void 0},Promise.resolve({}));return c.then(function(e){return l.patchRecord(u,e)})},createRecord:function(e,t){var r=n.filter(function(t){return t.name===e})[0],o=r.attrs.reduce(function(e,n){return"manyToOne"===n.type?e.then(function(e){return(0,s.merge)(e,i({},n[n.type].fromAttr,t[n.name].id))}):"manyToMany"===n.type?e:e.then(function(e){return(0,s.merge)(e,i({},n.name,t[n.name]))})},Promise.resolve({}));return o.then(function(e){return l.postRecord(r,e)}).then(function(e){var o=e.entity;return Promise.all(r.attrs.filter(function(e){return"manyToMany"===e.type}).map(function(e){var r=t[e.name],a=e[e.type],s=n.filter(function(e){return e.name===a.via})[0],u=r.map(function(e){var t;return l.postRecord(s,(t={},i(t,a.fromAttr,o.id),i(t,a.toAttr,e.id),t))});return Promise.all(u)}))})},deleteRecord:function(){return l.deleteRecord.apply(l,arguments)}}};var s=e("functional-utils"),u=e("./api"),c=r(u)},{"./api":"/var/www/site/js/admin/api.js","functional-utils":"functional-utils"}],"/var/www/site/js/admin/many-to-many-modal.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=r(a),u=e("./table-view"),c=r(u),l=e("./modal"),d=r(l),p=(0,s["default"])("ManyToOneModal"),f=(0,i.createClass)({displayName:"ManyToManyModal",getInitialState:function(){return{value:this.props.value||[]}},componentWillReceiveProps:function(e){var t=e.value;this.setState({value:t||null})},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,n=e.resourceName;return t.filter(function(e){return e.name===n})[0]},selectRecord:function(e){var t=this.state.value;this.setState({value:t.filter(function(t){return t.id!==e.id}).concat([e])})},deleteRecord:function(e){var t=this.state.value;this.setState({value:t.filter(function(t){return t.id!==e.id})})},save:function(){this.props.onSave(this.state.value)},render:function(){var e=this,t=this.props,n=t.scheme,r=t.resourceName,i=t.onCancel,a=t.context,s=this.state.value||[];return(0,o.h)(p("div"),(0,o.h)(d["default"],(0,o.h)("div",s.map(function(t){return(0,o.h)("div",{key:t.id},(0,o.h)("span",Object.keys(t).map(function(e){return e+":"+t[e]}).join(", ")),(0,o.h)("button",{onClick:e.deleteRecord.bind(null,t)},"del"))})),(0,o.h)(c["default"],{scheme:n,resourceName:r,enableRecordSelect:!0,onRecordSelect:this.selectRecord,context:a}),(0,o.h)("button",{onClick:this.save},"Save"),(0,o.h)("button",{onClick:i},"Cancel")))}});f.propTypes={context:i.PropTypes.object.isRequired,resourceName:i.PropTypes.string.isRequired,onCancel:i.PropTypes.func.isRequired,onSave:i.PropTypes.func.isRequired,value:i.PropTypes.array},n["default"]=f},{"./modal":"/var/www/site/js/admin/modal.js","./table-view":"/var/www/site/js/admin/table-view.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/many-to-one-modal.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=r(a),u=e("./table-view"),c=r(u),l=e("./modal"),d=r(l),p=(0,s["default"])("ManyToOneModal"),f=(0,i.createClass)({displayName:"ManyToOneModal",render:function(){var e=this.props,t=e.resourceName,n=e.onCancel,r=e.onSelect,i=e.context;return(0,o.h)(p("div"),(0,o.h)(d["default"],(0,o.h)(c["default"],{resourceName:t,enableRecordSelect:!0,onRecordSelect:r,context:i}),(0,o.h)("button",{onClick:n},"Cancel")))}});f.propTypes={context:i.PropTypes.object.isRequired,resourceName:i.PropTypes.string.isRequired,onCancel:i.PropTypes.func.isRequired,onSelect:i.PropTypes.func.isRequired},n["default"]=f},{"./modal":"/var/www/site/js/admin/modal.js","./table-view":"/var/www/site/js/admin/table-view.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/modal.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=r(a),u=(0,s["default"])("Modal"),c=(0,i.createClass)({displayName:"Modal",render:function(){return(0,o.h)(u("div"),(0,o.h)(u("div#holder"),this.props.children))}});n["default"]=c},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/navigation.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("bem-prefixer"),s=r(a),u=e("react-router"),c=(0,s["default"])("Navigation"),l=(0,i.createClass)({displayName:"Navigation",render:function(){var e=this.props,t=e.items,n=e.activeItem;return(0,o.h)(c("div"),t.map(function(e){return e.name===n.name?(0,o.h)(c("div#item.active"),{key:e.name},e.name):(0,o.h)(u.Link,{key:e.name,to:"/"+e.name},(0,o.h)(c("div#item"),{key:e.name},e.name))}))}});n["default"]=l},{"bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup","react-router":"react-router"}],"/var/www/site/js/admin/root.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),o=e("react-markup"),a=e("./app"),s=r(a),u=[{name:"translation-strings",attrs:[{name:"id",type:"int"},{name:"name",type:"string"},{name:"en-US",type:"string"},{name:"es-ES",type:"string"},{name:"ru-RU",type:"string"}]},{name:"translation-texts",attrs:[{name:"id",type:"int"},{name:"name",type:"string"},{name:"en-US",type:"text"},{name:"es-ES",type:"text"},{name:"ru-RU",type:"text"}]},{name:"members",attrs:[{name:"id",type:"int"},{name:"name",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"name_id",toAttr:"id"}},{name:"role",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"role_id",toAttr:"id"}},{name:"photo_url",type:"string"},{name:"vk",type:"string"},{name:"fb",type:"string"},{name:"linked_in",type:"string"},{name:"email",type:"string"}]},{name:"news-items",attrs:[{name:"id",type:"int"},{name:"date",type:"date"},{name:"title",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"title_id",toAttr:"id"}},{name:"text",type:"manyToOne",manyToOne:{to:"translation-texts",fromAttr:"text_id",toAttr:"id"}},{name:"image_url",type:"string"},{name:"tags",type:"manyToMany",manyToMany:{via:"news-news-tags",to:"news-tags",fromAttr:"news_id",toAttr:"news_tags_id"}}]},{name:"news-tags",attrs:[{name:"id",type:"int"},{name:"title",type:"manyToOne",manyToOne:{to:"translation-strings",fromAttr:"title_id",toAttr:"id"}},{name:"news",type:"manyToMany",manyToMany:{via:"news-news-tags",to:"news-items",fromAttr:"news_tags_id",toAttr:"news_id"}}]},{name:"news-news-tags",attrs:[{name:"id",type:"int"},{name:"news_id",type:"int"},{name:"news_item",type:"manyToOne",manyToOne:{to:"news-items",fromAttr:"news_id",toAttr:"id"}},{name:"tag",type:"manyToOne",manyToOne:{to:"news-tags",fromAttr:"news_tags_id",toAttr:"id"}},{name:"news_tags_id",type:"int"}]}],c={"translation-strings":[],"translation-texts":[],members:["name","role"],"news-tags":["title",["news",["title","text"]]],"news-items":["title","text",["tags",["title"]]],"news-news-tags":[["news_item",["title","text"]],["tag",["title"]]]},l={members:{name:function(e){return null===e?"null":e["ru-RU"]},role:function(e){return null===e?"null":e["ru-RU"]}},"news-items":{title:function(e){return null===e?"null":e["ru-RU"]},text:function(e){return null===e?"null":e["ru-RU"]},tags:function(e){return null===e?"null":e.map(function(e){return e.title["ru-RU"]}).join(", ")}},"news-tags":{title:function(e){return null===e?"null":e["ru-RU"]},news:function(e){return null===e?"null":e.map(function(e){return e.title["ru-RU"]}).join(", ")}},"news-news-tags":{news_item:function(e){return null===e?"null":e.title["ru-RU"]},tag:function(e){return null===e?"null":e.title["ru-RU"]}}},d={scheme:u,expandings:c,renderers:l},p=(0,i.createClass)({render:function(){return(0,o.h)(s["default"],{config:d})}});n["default"]=p},{"./app":"/var/www/site/js/admin/app.js",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/single-view.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=e("react-markup"),s=e("bem-prefixer"),u=r(s),c=e("functional-utils"),l=e("./many-to-one-modal"),d=r(l),p=e("./many-to-many-modal"),f=r(p),m=(0,u["default"])("SingleView"),h=(0,o.createClass)({displayName:"SingleView",getInitialState:function(){return{record:this.props.record,editingLinkAttr:null}},componentWillReceiveProps:function(e){this.setState({record:e.record,editingLink:null})},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,n=e.resourceName;return t.filter(function(e){return e.name===n})[0]},handleAttrChange:function(e,t){var n=this.state.record;this.setState({record:(0,c.merge)(n,i({},e,t.target.value))})},save:function(){this.props.onSave(this.state.record)},cancel:function(){this.props.onCancel()},editLinkAttr:function(e){this.setState({editingLinkAttr:e})},cancelEditLinkAttr:function(){this.setState({editingLinkAttr:null})},changeEditLinkAttr:function(e){var t=this.state,n=t.editingLinkAttr,r=t.record;this.setState({editingLinkAttr:null,record:(0,c.merge)(r,i({},n.name,e))})},renderInput:function(e,t){var n=this.props,r=n.context.config.renderers,i=n.resourceName,o=r[i][t.name],s=e[t.name],u=o(s);return"text"===t.type?(0,a.h)("textarea",{value:u,onChange:this.handleAttrChange.bind(null,t.name)}):"manyToOne"===t.type||"manyToMany"===t.type?(0,a.h)("button",{onClick:this.editLinkAttr.bind(null,t)},u):(0,a.h)("input",{type:"text",value:u,onChange:this.handleAttrChange.bind(null,t.name)})},renderEditingLinkAttrModal:function(){var e=this.state,t=e.editingLinkAttr,n=e.record,r=this.props.context;if(null!==t){var i=n[t.name],o=t[t.type];if("manyToOne"===t.type)return(0,a.h)(d["default"],{resourceName:o.to,value:i,onCancel:this.cancelEditLinkAttr,onSelect:this.changeEditLinkAttr,context:r});if("manyToMany"===t.type)return(0,a.h)(f["default"],{resourceName:o.to,value:i,onCancel:this.cancelEditLinkAttr,onSave:this.changeEditLinkAttr,context:r});throw new Error("Editing for '"+t.type+"' relations is not imlemented yet")}return null},render:function(){var e=this,t=this.state.record,n=this.getResourceScheme(),r=n.attrs;return(0,a.h)(m("div"),this.renderEditingLinkAttrModal(),(0,a.h)(m("div#fields"),r.filter(function(e){return"id"!==e.name}).map(function(n){return(0,a.h)(m("label#field"),{key:n.name},(0,a.h)(m("div#title"),n.name),(0,a.h)(m("div#input"),e.renderInput(t,n)))}).concat([(0,a.h)(m("div#controls"),{key:"controls"},(0,a.h)("button",{onClick:this.save},"Save"),(0,a.h)("button",{onClick:this.cancel},"Cancel"))])))}});h.propTypes={context:o.PropTypes.object.isRequired,resourceName:o.PropTypes.string.isRequired},n["default"]=h},{"./many-to-many-modal":"/var/www/site/js/admin/many-to-many-modal.js","./many-to-one-modal":"/var/www/site/js/admin/many-to-one-modal.js","bem-prefixer":"bem-prefixer","functional-utils":"functional-utils",react:"react","react-markup":"react-markup"}],"/var/www/site/js/admin/table-view.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=e("react-markup"),s=e("bem-prefixer"),u=r(s),c=e("functional-utils"),l=e("./modal"),d=r(l),p=e("./single-view"),f=r(p),m=e("./alerts"),h=(0,u["default"])("TableView"),w=(0,o.createClass)({displayName:"TableView",getInitialState:function(){return{loading:!0,editingRecord:null,editingRecordError:null,creatingRecord:null,pagination:null,data:null}},componentDidMount:function(){this.sync()},componentWillReceiveProps:function(e){this.sync(e)},getResourceScheme:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.context.config.scheme,n=e.resourceName;return t.filter(function(e){return e.name===n})[0]},editRecord:function(e){this.setState({editingRecord:e})},updateRecord:function(e){var t=this,n=this.props,r=n.context.dao,i=n.resourceName;r.updateRecord(i,e,this.state.editingRecord).then(function(){t.setState({editingRecord:null})}).then(this.sync)["catch"](function(e){(0,m.error)(e.entity.message)})},cancelEditRecord:function(){this.setState({editingRecord:null})},createRecord:function(){var e=this.getResourceScheme();this.setState({creatingRecord:e.attrs.reduce(function(e,t){return(0,c.merge)(e,i({},t.name,null))},{})})},cancelCreateRecord:function(){this.setState({creatingRecord:null})},saveCreateRecord:function(e){var t=this,n=this.props,r=n.context.dao,i=n.resourceName;r.createRecord(i,e).then(function(){t.setState({creatingRecord:null})}).then(function(){return t.sync()})["catch"](function(e){(0,m.error)(e.entity.message)})},sync:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],n=t.context.dao,r=t.resourceName;this.setState({loading:!0,data:null},function(){var t=e.state.pagination||{},i={page:t.currentPage||1};return n.fetchResource(r,i).then(function(t){var n=t.pagination,r=t.data;e.setState({loading:!1,pagination:n,data:r})})})},deleteRecord:function(e){var t=this,n=this.props.context.dao,r=this.getResourceScheme();n.deleteRecord(r,e).then(function(){return t.sync()})["catch"](function(e){(0,m.error)(e.entity.message)})},prevPage:function(){var e=this,t=this.state.pagination.currentPage;t>1&&this.setState({pagination:(0,c.merge)(this.state.pagination,{currentPage:t-1})},function(){e.sync()})},nextPage:function(){var e=this,t=this.state.pagination,n=t.currentPage,r=t.pageCount;n<r&&this.setState({pagination:(0,c.merge)(this.state.pagination,{currentPage:n+1})},function(){e.sync()})},renderPagination:function(){var e=this.state.pagination;return(0,a.h)(h("div#pagination"),(0,a.h)("button",{onClick:this.prevPage},"Previous page"),(0,a.h)("span",e.currentPage+" / "+e.pageCount),(0,a.h)("button",{onClick:this.nextPage},"Next page"),(0,a.h)("span"," (per page: "+e.perPage+", total: "+e.totalCount+")"))},renderAttr:function(e,t){var n=this.props,r=n.context.config.renderers,i=n.resourceName,o=r[i][t.name],a=e[t.name];return o(a)},renderRecord:function(e){var t=this,n=this.getResourceScheme(),r=n.attrs,i=this.props,o=i.enableRecordSelect,s=i.onRecordSelect,u=o?s.bind(null,e):null;return(0,a.h)("tr",{key:e.id,onClick:u},r.map(function(n){return(0,a.h)("td",{key:e.id+"-"+n.name},t.renderAttr(e,n))}).concat([(0,a.h)("td",{key:"controls"},(0,a.h)("button",{onClick:this.editRecord.bind(null,e)},"Edit"),(0,a.h)("button",{onClick:this.deleteRecord.bind(null,e)},"Delete"))]))},render:function(){var e=this,t=this.props,n=t.resourceName,r=t.context,i=this.state,o=i.editingRecord,s=i.creatingRecord,u=i.data,c=i.loading,l=this.getResourceScheme(),p=l.attrs;return c?(0,a.h)(h("div"),"Loading"):(0,a.h)(h("div"),o&&(0,a.h)(d["default"],(0,a.h)(f["default"],{resourceName:n,record:o,onSave:this.updateRecord,onCancel:this.cancelEditRecord,context:r})),s&&(0,a.h)(d["default"],(0,a.h)(f["default"],{resourceName:n,record:s,onSave:this.saveCreateRecord,onCancel:this.cancelCreateRecord,context:r})),(0,a.h)("button",{onClick:this.createRecord},"Create"),this.renderPagination(),(0,a.h)("table",(0,a.h)("thead",(0,a.h)("tr",p.map(function(e){return(0,a.h)("th",{key:e.name},e.name)}))),(0,a.h)("tbody",u.map(function(t){return e.renderRecord(t)}))))}});w.propTypes={context:o.PropTypes.object.isRequired,resourceName:o.PropTypes.string.isRequired,enableRecordSelect:o.PropTypes.bool,onRecordSelect:o.PropTypes.func},w.defaultProps={enableRecordSelect:!1,onRecordSelect:null},n["default"]=w},{"./alerts":"/var/www/site/js/admin/alerts.js","./modal":"/var/www/site/js/admin/modal.js","./single-view":"/var/www/site/js/admin/single-view.js","bem-prefixer":"bem-prefixer","functional-utils":"functional-utils",react:"react","react-markup":"react-markup"}],"/var/www/site/js/entry-admin.js":[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("react-dom"),o=r(i),a=e("react-markup"),s=e("./admin/root"),u=r(s);e("is-nan").shim(),document.addEventListener("DOMContentLoaded",function(){o["default"].render((0,a.h)(u["default"]),document.getElementById("react"))})},{"./admin/root":"/var/www/site/js/admin/root.js","is-nan":"is-nan","react-dom":"react-dom","react-markup":"react-markup"}],"/var/www/site/node_modules/rest/UrlBuilder.js":[function(e,t,n){"use strict";function r(e,t){var n,r,i,o,a;if(n=e,i={},t){for(r in t)a=new RegExp("\\{"+r+"\\}"),a.test(n)?n=n.replace(a,encodeURIComponent(t[r]),"g"):i[r]=t[r];o=s.write(i),o&&(n+=n.indexOf("?")===-1?"?":"&",n+=o)}return n}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=a({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var a,s,u,c,l,d;a=e("./util/mixin"),s=e("./mime/type/application/x-www-form-urlencoded"),c=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,l=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,d=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,a({},this._params,t))},fullyQualify:function(){if("undefined"==typeof location)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=u.protocol+e:i(e,"/")?e=u.origin+e:this.isAbsolute()||(e=u.origin+u.pathname.substring(0,u.pathname.lastIndexOf("/")+1)),e.indexOf("/",8)===-1&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return l.test(this.build())},isFullyQualified:function(){return d.test(this.build())},isCrossOrigin:function(){if(!u)return!0;var e=this.parts();return e.protocol!==u.protocol||e.hostname!==u.hostname||e.port!==u.port},parts:function p(){var e,p;return e=this.fullyQualify().build().match(c),p={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},p.origin=p.protocol+"//"+p.host,p.port=p.port||("https:"===p.protocol?"443":"http:"===p.protocol?"80":""),p},build:function(e){return r(this._template,a({},this._params,e))},toString:function(){return this.build()}},u="undefined"!=typeof location?new o(location.href).parts():void 0,t.exports=o},{"./mime/type/application/x-www-form-urlencoded":"/var/www/site/node_modules/rest/mime/type/application/x-www-form-urlencoded.js","./util/mixin":"/var/www/site/node_modules/rest/util/mixin.js"}],"/var/www/site/node_modules/rest/client.js":[function(e,t,n){"use strict";t.exports=function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,n){return t(e,n)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}},{}],"/var/www/site/node_modules/rest/client/default.js":[function(e,t,n){"use strict";function r(){return o.apply(void 0,arguments)}var i,o,a;i=e("../client"),"function"!=typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),r.setDefaultClient=function(e){o=e},r.getDefaultClient=function(){return o},r.resetDefaultClient=function(){o=a},r.setPlatformDefaultClient=function(e){if(a)throw new Error("Unable to redefine platformDefaultClient");o=a=e},t.exports=i(r)},{"../client":"/var/www/site/node_modules/rest/client.js"}],"/var/www/site/node_modules/rest/interceptor.js":[function(e,t,n){"use strict";function r(e){return e}function i(e){return e}function o(e){return e}function a(e){return this instanceof a?void c(this,e):new a(e)}function s(e){var t,n,s,c;return e=e||{},t=e.init||r,n=e.request||i,s=e.success||e.response||o,c=e.error||function(){return Promise.resolve((e.response||o).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(r,i){function o(e){var t,u;return t={},u={arguments:Array.prototype.slice.call(arguments),client:o},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||o,l(n.call(t,e,i,u),function(e){var n,o,l;return l=r,e instanceof a&&(o=e.abort,l=e.client||l,n=e.response,e=e.request),n=n||Promise.resolve(e).then(function(e){return Promise.resolve(l(e)).then(function(e){return s.call(t,e,i,u)},function(e){return c.call(t,e,i,u)})}),o?Promise.race([n,o]):n},function(t){return Promise.reject({request:e,error:t})})}return"object"===("undefined"==typeof r?"undefined":p(r))&&(i=r),"function"!=typeof r&&(r=e.client||u),i=t(i||{}),d(o,r)}}var u,c,l,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};u=e("./client/default"),c=e("./util/mixin"),l=e("./util/responsePromise"),d=e("./client"),s.ComplexRequest=a,t.exports=s},{"./client":"/var/www/site/node_modules/rest/client.js","./client/default":"/var/www/site/node_modules/rest/client/default.js","./util/mixin":"/var/www/site/node_modules/rest/util/mixin.js","./util/responsePromise":"/var/www/site/node_modules/rest/util/responsePromise.js"}],"/var/www/site/node_modules/rest/interceptor/basicAuth.js":[function(e,t,n){"use strict";var r,i;r=e("../interceptor"),i=e("../util/base64"),t.exports=r({request:function(e,t){var n,r,o;return n=e.headers||(e.headers={}),r=e.username||t.username,o=e.password||t.password||"",r&&(n.Authorization="Basic "+i.encode(r+":"+o)),e}})},{"../interceptor":"/var/www/site/node_modules/rest/interceptor.js","../util/base64":"/var/www/site/node_modules/rest/util/base64.js"}],"/var/www/site/node_modules/rest/interceptor/errorCode.js":[function(e,t,n){"use strict";var r;r=e("../interceptor"),t.exports=r({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?Promise.reject(e):e}})},{"../interceptor":"/var/www/site/node_modules/rest/interceptor.js"}],"/var/www/site/node_modules/rest/interceptor/mime.js":[function(e,t,n){"use strict";var r,i,o,a,s,u;r=e("../interceptor"),i=e("../mime"),o=e("../mime/registry"),u=e("../util/attempt"),a={read:function(e){return e},write:function(e){return e}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=r({init:function(e){return e.registry=e.registry||o,e},request:function(e,t){var n,r;return r=e.headers||(e.headers={}),n=i.parse(r["Content-Type"]||t.mime||"text/plain"),r.Accept=r.Accept||t.accept||n.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?(r["Content-Type"]=n.raw,t.registry.lookup(n)["catch"](function(){if(t.permissive)return a;throw"mime-unknown"}).then(function(r){var i=t.client||e.originator,o=r.write||s.write;return u(o.bind(void 0,e.entity,{client:i,request:e,mime:n,registry:t.registry}))["catch"](function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})})):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var n=i.parse(e.headers["Content-Type"]);return t.registry.lookup(n)["catch"](function(){return a}).then(function(r){var i=t.client||e.request&&e.request.originator,o=r.read||s.read;return u(o.bind(void 0,e.entity,{client:i,response:e,mime:n,registry:t.registry}))["catch"](function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})},{"../interceptor":"/var/www/site/node_modules/rest/interceptor.js","../mime":"/var/www/site/node_modules/rest/mime.js","../mime/registry":"/var/www/site/node_modules/rest/mime/registry.js","../util/attempt":"/var/www/site/node_modules/rest/util/attempt.js"}],"/var/www/site/node_modules/rest/interceptor/pathPrefix.js":[function(e,t,n){"use strict";function r(e,t){return 0===e.indexOf(t)}function i(e,t){return e.lastIndexOf(t)+t.length===e.length}var o,a;o=e("../interceptor"),a=e("../UrlBuilder"),t.exports=o({request:function(e,t){var n;return t.prefix&&!new a(e.path).isFullyQualified()&&(n=t.prefix,e.path&&(i(n,"/")||r(e.path,"/")||(n+="/"),n+=e.path),e.path=n),e}})},{"../UrlBuilder":"/var/www/site/node_modules/rest/UrlBuilder.js","../interceptor":"/var/www/site/node_modules/rest/interceptor.js"}],"/var/www/site/node_modules/rest/interceptor/template.js":[function(e,t,n){"use strict";var r,i,o;r=e("../interceptor"),i=e("../util/uriTemplate"),o=e("../util/mixin"),t.exports=r({init:function(e){return e.params=e.params||{},e.template=e.template||"",e},request:function(e,t){var n,r;return n=e.path||t.template,r=o({},e.params,t.params),e.path=i.expand(n,r),delete e.params,e}})},{"../interceptor":"/var/www/site/node_modules/rest/interceptor.js","../util/mixin":"/var/www/site/node_modules/rest/util/mixin.js","../util/uriTemplate":"/var/www/site/node_modules/rest/util/uriTemplate.js"}],"/var/www/site/node_modules/rest/mime.js":[function(e,t,n){"use strict";function r(e){var t,n;return t=e.split(";"),n=t[0].trim().split("+"),{raw:e,type:n[0],suffix:n[1]?"+"+n[1]:"",params:t.slice(1).reduce(function(e,t){return t=t.split("="),e[t[0].trim()]=t[1]?t[1].trim():void 0,e},{})}}t.exports={parse:r}},{}],"/var/www/site/node_modules/rest/mime/registry.js":[function(e,t,n){"use strict";function r(e){this.lookup=function(t){var n;return n="string"==typeof t?i.parse(t):t,e[n.raw]?e[n.raw]:e[n.type+n.suffix]?e[n.type+n.suffix]:e[n.type]?e[n.type]:e[n.suffix]?e[n.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+n.raw+'"'))},this.delegate=function(e){return{read:function(){var t=arguments;return this.lookup(e).then(function(e){return e.read.apply(this,t)}.bind(this))}.bind(this),write:function(){var t=arguments;return this.lookup(e).then(function(e){return e.write.apply(this,t)}.bind(this))}.bind(this)}},this.register=function(t,n){return e[t]=Promise.resolve(n),e[t]},this.child=function(){return new r(Object.create(e))}}var i,o;i=e("../mime"),o=new r({}),o.register("application/hal",e("./type/application/hal")),o.register("application/json",e("./type/application/json")),o.register("application/x-www-form-urlencoded",e("./type/application/x-www-form-urlencoded")),o.register("multipart/form-data",e("./type/multipart/form-data")),o.register("text/plain",e("./type/text/plain")),o.register("+json",o.delegate("application/json")),t.exports=o},{"../mime":"/var/www/site/node_modules/rest/mime.js","./type/application/hal":"/var/www/site/node_modules/rest/mime/type/application/hal.js","./type/application/json":"/var/www/site/node_modules/rest/mime/type/application/json.js","./type/application/x-www-form-urlencoded":"/var/www/site/node_modules/rest/mime/type/application/x-www-form-urlencoded.js","./type/multipart/form-data":"/var/www/site/node_modules/rest/mime/type/multipart/form-data.js","./type/text/plain":"/var/www/site/node_modules/rest/mime/type/text/plain.js"}],"/var/www/site/node_modules/rest/mime/type/application/hal.js":[function(e,t,n){"use strict";function r(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writeable:!0})}var i,o,a,s,u;i=e("../../../interceptor/pathPrefix"),o=e("../../../interceptor/template"),a=e("../../../util/find"),s=e("../../../util/lazyPromise"),u=e("../../../util/responsePromise"),t.exports={read:function(e,t){function n(e,t){(t&&l&&l.warn||l.log)&&(l.warn||l.log).call(l,"Relationship '"+e+"' is deprecated, see "+t)}var c,l;return t=t||{},c=t.client,l=t.console||l,t.registry.lookup(t.mime.suffix).then(function(n){return n.read(e,t)}).then(function(e){return a.findProperties(e,"_embedded",function(e,t,n){Object.keys(e).forEach(function(n){if(!(n in t)){var i=u({entity:e[n]});r(t,n,i)}}),r(t,n,e)}),a.findProperties(e,"_links",function(e,t,a){Object.keys(e).forEach(function(i){var a=e[i];i in t||r(t,i,u.make(s(function(){return a.deprecation&&n(i,a.deprecation),a.templated===!0?o(c)({path:a.href}):c({path:a.href})})))}),r(t,a,e),r(t,"clientFor",function(t,r){var a=e[t];if(!a)throw new Error("Unknown relationship: "+t);return a.deprecation&&n(t,a.deprecation),a.templated===!0?o(r||c,{template:a.href}):i(r||c,{prefix:a.href})}),r(t,"requestFor",function(e,t,n){var r=this.clientFor(e,n);return r(t)})}),e})},write:function(e,t){return t.registry.lookup(t.mime.suffix).then(function(n){return n.write(e,t)})}}},{"../../../interceptor/pathPrefix":"/var/www/site/node_modules/rest/interceptor/pathPrefix.js","../../../interceptor/template":"/var/www/site/node_modules/rest/interceptor/template.js","../../../util/find":"/var/www/site/node_modules/rest/util/find.js","../../../util/lazyPromise":"/var/www/site/node_modules/rest/util/lazyPromise.js","../../../util/responsePromise":"/var/www/site/node_modules/rest/util/responsePromise.js"}],"/var/www/site/node_modules/rest/mime/type/application/json.js":[function(e,t,n){"use strict";function r(e,t){return{read:function(t){return JSON.parse(t,e)},write:function(e){return JSON.stringify(e,t)},extend:r}}t.exports=r()},{}],"/var/www/site/node_modules/rest/mime/type/application/x-www-form-urlencoded.js":[function(e,t,n){"use strict";function r(e){return e=encodeURIComponent(e),e.replace(a,"+")}function i(e){return e=e.replace(s," "),decodeURIComponent(e)}function o(e,t,n){return Array.isArray(n)?n.forEach(function(n){e=o(e,t,n)}):(e.length>0&&(e+="&"),e+=r(t),void 0!==n&&null!==n&&(e+="="+r(n))),e}var a,s;a=/%20/g,s=/\+/g,t.exports={read:function(e){var t={};return e.split("&").forEach(function(e){var n,r,o;n=e.split("="),r=i(n[0]),o=2===n.length?i(n[1]):null,r in t?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(o)):t[r]=o}),t},write:function(e){var t="";return Object.keys(e).forEach(function(n){t=o(t,n,e[n])}),t}}},{}],"/var/www/site/node_modules/rest/mime/type/multipart/form-data.js":[function(e,t,n){"use strict";function r(e){return e&&1===e.nodeType&&"FORM"===e.tagName}function i(e){var t,n=new FormData;for(var r in e)e.hasOwnProperty(r)&&(t=e[r],t instanceof File?n.append(r,t,t.name):t instanceof Blob?n.append(r,t):n.append(r,String(t)));return n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={write:function(e){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(e instanceof FormData)return e;if(r(e))return new FormData(e);if("object"===("undefined"==typeof e?"undefined":o(e))&&null!==e)return i(e);throw new Error("Unable to create FormData from object "+e)}}},{}],"/var/www/site/node_modules/rest/mime/type/text/plain.js":[function(e,t,n){"use strict";t.exports={read:function(e){return e},write:function(e){return e.toString()}}},{}],"/var/www/site/node_modules/rest/util/attempt.js":[function(e,t,n){"use strict";function r(e){try{return Promise.resolve(e())}catch(t){return Promise.reject(t)}}t.exports=r},{}],"/var/www/site/node_modules/rest/util/base64.js":[function(e,t,n){"use strict";function r(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("Can't base64 encode non-ASCII characters.");for(var t,n,r,i=0,a=[];i<e.length;){switch(t=e.charCodeAt(i),r=i%3){case 0:a.push(o.charAt(t>>2));break;case 1:a.push(o.charAt((3&n)<<4|t>>4));break;case 2:a.push(o.charAt((15&n)<<2|t>>6)),a.push(o.charAt(63&t))}n=t,i+=1}return 0===r?(a.push(o.charAt((3&n)<<4)),a.push("==")):1===r&&(a.push(o.charAt((15&n)<<2)),a.push("=")),a.join("")}function i(e){if(e=e.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(e)||e.length%4>0)throw new Error("Not a base64-encoded string.");var t,n,r,i=0,a=[];for(e=e.replace(/\=/g,"");i<e.length;){switch(t=o.indexOf(e.charAt(i)),r=i%4){case 1:a.push(String.fromCharCode(n<<2|t>>4));break;case 2:a.push(String.fromCharCode((15&n)<<4|t>>2));break;case 3:a.push(String.fromCharCode((3&n)<<6|t))}n=t,i+=1}return a.join("")}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:r,decode:i}},{}],"/var/www/site/node_modules/rest/util/find.js":[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={findProperties:function i(e,t,n){"object"===("undefined"==typeof e?"undefined":r(e))&&null!==e&&(t in e&&n(e[t],e,t),Object.keys(e).forEach(function(r){i(e[r],t,n)}))}}},{}],"/var/www/site/node_modules/rest/util/lazyPromise.js":[function(e,t,n){"use strict";function r(e){var t,n,r,o;return t=!1,r=new Promise(function(e,t){n={resolve:e,reject:t}}),o=r.then,r.then=function(){return t||(t=!0,i(e).then(n.resolve,n.reject)),o.apply(r,arguments)},r}var i=e("./attempt");t.exports=r},{"./attempt":"/var/www/site/node_modules/rest/util/attempt.js"}],"/var/www/site/node_modules/rest/util/mixin.js":[function(e,t,n){"use strict";function r(e){var t,n,r,o;for(e||(e={}),t=1,n=arguments.length;t<n;t+=1){r=arguments[t];for(o in r)o in e&&(e[o]===r[o]||o in i&&i[o]===r[o])||(e[o]=r[o])}return e}var i={};t.exports=r},{}],"/var/www/site/node_modules/rest/util/normalizeHeaderName.js":[function(e,t,n){"use strict";function r(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}t.exports=r},{}],"/var/www/site/node_modules/rest/util/responsePromise.js":[function(e,t,n){"use strict";function r(e,t){return e.then(function(e){return e&&e[t]},function(e){return Promise.reject(e&&e[t])})}function i(){return r(this,"entity")}function o(){return r(r(this,"status"),"code")}function a(){return r(this,"headers")}function s(e){return e=d(e),r(this.headers(),e)}function u(e){return e=[].concat(e),c(e.reduce(function(e,t){return e.then(function(e){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var n=e.entity.clientFor(t.rel);return n({params:t.params})})},this))}function c(e){return e.status=o,e.headers=a,e.header=s,e.entity=i,e.follow=u,e}function l(e,t,n){return c(Promise.resolve(e).then(t,n))}var d=e("./normalizeHeaderName");l.make=c,l.reject=function(e){return c(Promise.reject(e))},l.promise=function(e){return c(new Promise(e))},t.exports=l},{"./normalizeHeaderName":"/var/www/site/node_modules/rest/util/normalizeHeaderName.js"}],"/var/www/site/node_modules/rest/util/uriEncoder.js":[function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)throw new Error("String required for URL encoding");return e.split("").map(function(e){if(t.hasOwnProperty(e))return e;var n=e.charCodeAt(0);if(n<=127){var r=n.toString(16).toUpperCase();return"%"+(r.length%2===1?"0":"")+r}return encodeURIComponent(e).toUpperCase()}).join("")}function i(e){return e=e||a.unreserved,function(t){return r(t,e)}}function o(e){return decodeURIComponent(e)}var a;a=function(){var e={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return e.genDelims=":/?#[]@",e.subDelims="!$&'()*+,;=",e.reserved=e.genDelims+e.subDelims,e.unreserved=e.alpha+e.digit+"-._~",e.url=e.reserved+e.unreserved,e.scheme=e.alpha+e.digit+"+-.",e.userinfo=e.unreserved+e.subDelims+":",e.host=e.unreserved+e.subDelims,e.port=e.digit,e.pchar=e.unreserved+e.subDelims+":@",e.segment=e.pchar,e.path=e.segment+"/",e.query=e.pchar+"/?",e.fragment=e.pchar+"/?",Object.keys(e).reduce(function(t,n){return t[n]=e[n].split("").reduce(function(e,t){return e[t]=!0,e},{}),t},{})}(),t.exports={decode:o,encode:i(),encodeURL:i(a.url),encodeScheme:i(a.scheme),encodeUserInfo:i(a.userinfo),encodeHost:i(a.host),encodePort:i(a.port),encodePathSegment:i(a.segment),encodePath:i(a.path),encodeQuery:i(a.query),encodeFragment:i(a.fragment)}},{}],"/var/www/site/node_modules/rest/util/uriTemplate.js":[function(e,t,n){"use strict";function r(e,t,n){return t.split(",").reduce(function(t,r){var i,o;if(i={},"*"===r.slice(-1)&&(r=r.slice(0,-1),i.explode=!0),u.test(r)){var s=u.exec(r);r=s[1],i.maxLength=parseInt(s[2])}return r=a.decode(r),o=n[r],void 0===o||null===o?t:(Array.isArray(o)?t=o.reduce(function(t,n){return t.length?(t+=i.explode?e.separator:",",e.named&&i.explode&&(t+=e.encoder(r),t+=n.length?"=":e.empty)):(t+=e.first,e.named&&(t+=e.encoder(r),t+=n.length?"=":e.empty)),t+=e.encoder(n)},t):"object"===("undefined"==typeof o?"undefined":c(o))?t=Object.keys(o).reduce(function(t,n){return t.length?t+=i.explode?e.separator:",":(t+=e.first,e.named&&!i.explode&&(t+=e.encoder(r),t+=o[n].length?"=":e.empty)),t+=e.encoder(n),t+=i.explode?"=":",",t+=e.encoder(o[n])},t):(o=String(o),i.maxLength&&(o=o.slice(0,i.maxLength)),t+=t.length?e.separator:e.first,e.named&&(t+=e.encoder(r),t+=o.length?"=":e.empty),t+=e.encoder(o)),t)},"")}function i(e,t){var n;if(n=s[e.slice(0,1)],n?e=e.slice(1):n=s[""],n.reserved)throw new Error("Reserved expression operations are not supported");return r(n,e,t)}function o(e,t){var n,r,o;for(o="",r=0;;){if(n=e.indexOf("{",r),n===-1){o+=e.slice(r);break}o+=e.slice(r,n),r=e.indexOf("}",n)+1,o+=i(e.slice(n+1,r-1),t)}return o}var a,s,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};a=e("./uriEncoder"),u=/^([^:]*):([0-9]+)$/,s={"":{first:"",separator:",",named:!1,empty:"",encoder:a.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:a.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:a.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:a.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:a.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:a.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:a.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:a.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:o}},{"./uriEncoder":"/var/www/site/node_modules/rest/util/uriEncoder.js"}]},{},["/var/www/site/js/entry-admin.js"]);