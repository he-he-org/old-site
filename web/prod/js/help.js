!function e(n,t,r){function o(u,a){if(!t[u]){if(!n[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var s=t[u]={exports:{}};n[u][0].call(s.exports,function(e){var t=n[u][1][e];return o(t?t:e)},s,s.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({"/var/www/site/js/entry-help.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=e("redux"),u=e("react-markup"),a=e("react-dom"),c=r(a),p=e("./shared/action-creators"),s=e("./shared/main-donate-form"),d=r(s),f=e("./help/donate/donate-info"),l=r(f),m=e("./i18n"),y=r(m),h=e("./shared/definitions");e("is-nan").shim(),document.addEventListener("DOMContentLoaded",function(){var e={provider:h.ProvideType.YANDEX_MONEY,method:h.MethodType.ACCOUNT,currency:h.CurrencyType.RUR,amountOption:h.AmountOptionType.OPTION_SUM_2,amount:h.currencyOptionsToAmount[h.CurrencyType.RUR][h.AmountOptionType.OPTION_SUM_2]},n=function(){var n=arguments.length<=0||void 0===arguments[0]?e:arguments[0],t=arguments[1];switch(t.type){case"SET_PROVIDER":var r=t.provider,i=n.amountOption,u=r===h.ProvideType.YANDEX_MONEY?h.CurrencyType.RUR:n.currency,a=null;return a=i===h.AmountOptionType.OPTION_SUM_1?h.currencyOptionsToAmount[u][i]:i===h.AmountOptionType.OPTION_SUM_2?h.currencyOptionsToAmount[u][i]:i===h.AmountOptionType.OPTION_SUM_3?h.currencyOptionsToAmount[u][i]:n.amount,o({},n,{provider:r,currency:u,amount:a});case"SET_CURRENCY":var c=n.provider;if(c===h.ProvideType.PAYPAL){var p=t.currency,s=n.amountOption,d=s===h.AmountOptionType.OPTION_OTHER?n.amount:h.currencyOptionsToAmount[p][s];return o({},n,{currency:p,amount:d})}return n;case"SET_AMOUNT_OPTION":var f=t.amountOption,l=n.currency,m=null;return m=f===h.AmountOptionType.OPTION_SUM_1?h.currencyOptionsToAmount[l][f]:f===h.AmountOptionType.OPTION_SUM_2?h.currencyOptionsToAmount[l][f]:f===h.AmountOptionType.OPTION_SUM_3?h.currencyOptionsToAmount[l][f]:n.amount,o({},n,{amountOption:f,amount:m});case"SET_AMOUNT":return o({},n,{amount:t.amount});default:return n}},t=(0,i.createStore)(n),r=function(e){t.dispatch((0,p.setProvider)(e))},a=function(e){t.dispatch((0,p.setCurrency)(e))},s=function(e){t.dispatch((0,p.setAmountOption)(e))},f=function(e){t.dispatch((0,p.setAmount)(e))},m=document.querySelector("#react-main-donation-form"),O=document.querySelector("#react-donate-info"),v=new y["default"],T=function(){var e=t.getState();m&&c["default"].render((0,u.h)(d["default"],o({i18n:v,onChangeProvider:r,onChangeCurrency:a,onChangeAmountOption:s,onChangeAmount:f},e)),m),O&&c["default"].render((0,u.h)(l["default"],o({i18n:v},e)),O)};t.subscribe(T),T()});var O=5;document.addEventListener("DOMContentLoaded",function(){Array.prototype.slice.apply(document.querySelectorAll(".category-menu")).forEach(function(e){var n=function(){Array.prototype.slice.apply(e.querySelectorAll(".category-menu_item")).forEach(function(e){var n=new URL(e.getAttribute("href"),window.location);n.href===location.href?e.classList.add("category-menu_item--active"):e.classList.remove("category-menu_item--active")})};window.addEventListener("hashchange",n,!1),n();var t=e.querySelector(".category-menu_body"),r=function(){var n=document.body.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=Math.max(i-o+O,0);t.style.top=u+"px"};document.addEventListener("scroll",r),r()})})},{"./help/donate/donate-info":"/var/www/site/js/help/donate/donate-info.js","./i18n":"/var/www/site/js/i18n.js","./shared/action-creators":"/var/www/site/js/shared/action-creators.js","./shared/definitions":"/var/www/site/js/shared/definitions.js","./shared/main-donate-form":"/var/www/site/js/shared/main-donate-form.js","is-nan":"is-nan","react-dom":"react-dom","react-markup":"react-markup",redux:"redux"}],"/var/www/site/js/help/donate/donate-info.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(t,"__esModule",{value:!0});var c,p=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),s=e("react"),d=e("react-markup"),f=e("../../shared/definitions"),l=e("bem-prefixer"),m=r(l),y=f.CurrencyType.RUR,h=f.CurrencyType.USD,O=f.CurrencyType.EUR,v=f.AmountOptionType.OPTION_OTHER,T=(0,m["default"])("section-donate-info"),_=(c={},a(c,f.AmountOptionType.OPTION_SUM_1,{forUs:["help/donate/info/300/for-us/options/1","help/donate/info/300/for-us/options/2","help/donate/info/300/for-us/options/3"],forThem:["help/donate/info/300/for-them/options/1"]}),a(c,f.AmountOptionType.OPTION_SUM_2,{forUs:["help/donate/info/500/for-us/options/1","help/donate/info/500/for-us/options/2","help/donate/info/500/for-us/options/3"],forThem:["help/donate/info/500/for-them/options/1"]}),a(c,f.AmountOptionType.OPTION_SUM_3,{forUs:["help/donate/info/1000/for-us/options/1","help/donate/info/1000/for-us/options/2"],forThem:["help/donate/info/1000/for-them/options/1","help/donate/info/1000/for-them/options/2","help/donate/info/1000/for-them/options/3"]}),c),w=function(e){return e[Math.floor(Math.random()*e.length)]},b=function(e){function n(){var e,t,r,u;o(this,n);for(var a=arguments.length,c=Array(a),p=0;p<a;p++)c[p]=arguments[p];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.getCurrencySign=function(e){if(e===y)return"₽";if(e===h)return"$";if(e===O)return"€";throw new Error("Currency isn't supported: "+e)},r.formatMoney=function(e,n){var t=r.props.i18n;return t.t("strings","help/main-donation-form/money-template").replace(/\{amount\}/g,e).replace(/\{currency\}/g,r.getCurrencySign(n))},u=t,i(r,u)}return u(n,e),p(n,[{key:"render",value:function(){var e=this.props.i18n,n=this.props,t=n.amountOption,r=n.amount,o=n.currency;return t===v?(0,d.h)(T("div"),(0,d.h)(T("div#block"))):(0,d.h)(T("div"),(0,d.h)(T("div#block"),(0,d.h)(T("div#amount"),this.formatMoney(r,o)),(0,d.h)(T("div#title"),e.t("strings","help/donate/info/for-us/title")),(0,d.h)(T("div#desc-container"),(0,d.h)(T("div#desc"),e.t("strings",w(_[t].forUs)))),(0,d.h)(T("div#title"),e.t("strings","help/donate/info/for-them/title")),(0,d.h)(T("div#desc-container"),(0,d.h)(T("div#desc"),e.t("strings",w(_[t].forThem))))))}}]),n}(s.Component);t["default"]=b},{"../../shared/definitions":"/var/www/site/js/shared/definitions.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}],"/var/www/site/js/i18n.js":[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=function(){function e(){if(r(this,e),!("i18n"in window))throw new Error("I18n isn`t initialized correctly");this.data=window.i18n}return o(e,[{key:"t",value:function(e,n){var t=this.data[e];if("undefined"==typeof t)throw new Error("Wrong category "+e);if(!(n in t))throw new Error("Wrong key: "+e+"/"+n);return t[n]}},{key:"param",value:function(e,n){return this.params[e]?this.params[e]:n}}]),e}();t["default"]=i},{}],"/var/www/site/js/shared/action-creators.js":[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setProvider=function(e){return{type:"SET_PROVIDER",provider:e}},t.setCurrency=function(e){return{type:"SET_CURRENCY",currency:e}},t.setAmountOption=function(e){return{type:"SET_AMOUNT_OPTION",amountOption:e}},t.setAmount=function(e){return{type:"SET_AMOUNT",amount:e}}},{}],"/var/www/site/js/shared/definitions.js":[function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u,a,c={YANDEX_MONEY:"YANDEX_MONEY",PAYPAL:"PAYPAL"},p={ACCOUNT:"ACCOUNT",CARD:"CARD"},s={RUR:"RUR",USD:"USD",EUR:"EUR"},d={OPTION_SUM_1:"OPTION_SUM_1",OPTION_SUM_2:"OPTION_SUM_2",OPTION_SUM_3:"OPTION_SUM_3",OPTION_OTHER:"OPTION_OTHER"},f=(a={},r(a,s.RUR,(o={},r(o,d.OPTION_SUM_1,300),r(o,d.OPTION_SUM_2,500),r(o,d.OPTION_SUM_3,1e3),o)),r(a,s.USD,(i={},r(i,d.OPTION_SUM_1,10),r(i,d.OPTION_SUM_2,20),r(i,d.OPTION_SUM_3,50),i)),r(a,s.EUR,(u={},r(u,d.OPTION_SUM_1,10),r(u,d.OPTION_SUM_2,20),r(u,d.OPTION_SUM_3,50),u)),a);t.ProvideType=c,t.MethodType=p,t.CurrencyType=s,t.AmountOptionType=d,t.currencyOptionsToAmount=f},{}],"/var/www/site/js/shared/main-donate-form.js":[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),p=e("react"),s=e("react-markup"),d=e("bem-prefixer"),f=r(d),l=e("./definitions"),m=l.ProvideType.YANDEX_MONEY,y=l.ProvideType.PAYPAL,h=l.CurrencyType.RUR,O=l.CurrencyType.USD,v=l.CurrencyType.EUR,T=l.AmountOptionType.OPTION_SUM_1,_=l.AmountOptionType.OPTION_SUM_2,w=l.AmountOptionType.OPTION_SUM_3,b=l.AmountOptionType.OPTION_OTHER,g="https://money.yandex.ru/quickpay/confirm.xml",P="410012180500847",A="donate",C="PC",U="/paypal",S=(0,f["default"])("main-donate-form"),M=function(e){function n(){var e,t,r,u;o(this,n);for(var c=arguments.length,p=Array(c),d=0;d<c;d++)p[d]=arguments[d];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(p))),r.getCurrencySign=function(e){if(e===h)return"₽";if(e===O)return"$";if(e===v)return"€";throw new Error("Currency isn't supported: "+e)},r.formatMoney=function(e,n){var t=r.props.i18n;return t.t("strings","help/main-donation-form/money-template").replace(/\{amount\}/g,e).replace(/\{currency\}/g,r.getCurrencySign(n))},r.handleChangeAmount=function(e){var n=e.target.value;/^[0-9]*$/.test(n)&&r.props.onChangeAmount(Number(n))},r.renderProviderOptions=function(){var e=r.props,n=e.i18n,t=e.provider,o=e.onChangeProvider;return(0,s.h)(S("div#options"),(0,s.h)(S("div","option",t===m?["active"]:[]),{onClick:o.bind(null,l.ProvideType.YANDEX_MONEY)},n.t("strings","help/donate/provider-options/ym")),(0,s.h)(S("div","option",t===y?["active"]:[]),{onClick:o.bind(null,l.ProvideType.PAYPAL)},"PayPal"))},r.renderCurrencyOptions=function(){var e=r.props,n=e.currency,t=e.provider,o=e.onChangeCurrency;return t===y?(0,s.h)(S("div#options"),(0,s.h)(S("div","option",n===h?["active"]:[]),{onClick:o.bind(null,h)},r.getCurrencySign(h)),(0,s.h)(S("div","option",n===O?["active"]:[]),{onClick:o.bind(null,O)},r.getCurrencySign(O)),(0,s.h)(S("div","option",n===v?["active"]:[]),{onClick:o.bind(null,v)},r.getCurrencySign(v))):null},r.renderAmountOptions=function(){var e=r.props,n=e.i18n,t=e.currency,o=e.amountOption,i=e.onChangeAmountOption;return(0,s.h)(S("div#options"),(0,s.h)(S("div","option",o===T?["active"]:[]),{onClick:i.bind(null,T)},r.formatMoney(l.currencyOptionsToAmount[t][T],t)),(0,s.h)(S("div","option",o===_?["active"]:[]),{onClick:i.bind(null,_)},r.formatMoney(l.currencyOptionsToAmount[t][_],t)),(0,s.h)(S("div","option",o===w?["active"]:[]),{onClick:i.bind(null,w)},r.formatMoney(l.currencyOptionsToAmount[t][w],t)),(0,s.h)(S("div","option",o===b?["active"]:[]),{onClick:i.bind(null,b)},n.t("strings","help/donate/amount-options/other-amount")))},r.renderAmount=function(){var e=r.props,n=e.i18n,t=e.amount,o=e.amountOption,i=e.currency;if(o!==l.AmountOptionType.OPTION_OTHER)return(0,s.h)(S("div#amount-info"),(0,s.h)(S("div#amount"),r.formatMoney(t,i)));var u=function(){var e=n.t("strings","help/main-donation-form/money-template").replace(/ /g," "),o=e.split("{amount}"),u=[];return o.forEach(function(e,n){0!==n&&u.push((0,s.h)("input",{value:t,size:4,onChange:r.handleChangeAmount})),u.push(e.replace("{currency}",r.getCurrencySign(i)))}),{v:(0,s.h)(S("div#amount-info"),s.h.apply(void 0,[S("div#amount-input")].concat(u)))}}();return"object"===("undefined"==typeof u?"undefined":a(u))?u.v:void 0},r.renderYandexForm=function(){var e=r.props,n=e.i18n,t=e.amount;return(0,s.h)(S("form#form"),{action:g},(0,s.h)("input",{type:"hidden",name:"sum",value:t}),(0,s.h)("input",{type:"hidden",name:"receiver",value:P}),(0,s.h)("input",{type:"hidden",name:"formcomment",value:n.t("strings","help/donate/formcomment")}),(0,s.h)("input",{type:"hidden",name:"short-dest",value:n.t("strings","help/donate/short-dest")}),(0,s.h)("input",{type:"hidden",name:"quickpay-form",value:A}),(0,s.h)("input",{type:"hidden",name:"targets",value:n.t("strings","help/donate/targets")}),(0,s.h)("input",{type:"hidden",name:"paymentType",value:C}),(0,s.h)(S("button#submit"),n.t("strings","help/donate/donate-button-title")))},r.renderPaypalForm=function(){var e=r.props,n=e.i18n,t=e.amount,o=e.currency,i=o;if(o===h)i="RUB";else if(o===O)i="USD";else{if(o!==v)throw new Error("Currency isn't supported: "+o);i="EUR"}return(0,s.h)(S("form#form"),{action:U},(0,s.h)("input",{type:"hidden",name:"amount",value:t}),(0,s.h)("input",{type:"hidden",name:"currency",value:i}),(0,s.h)(S("button#submit"),n.t("strings","help/donate/donate-button-title")))},r.renderButton=function(){var e=r.props.provider;if(e===m)return r.renderYandexForm();if(e===y)return r.renderPaypalForm();throw new Error("Wrong provider value: "+e)},u=t,i(r,u)}return u(n,e),c(n,[{key:"render",value:function(){return(0,s.h)(S("div"),this.renderProviderOptions(),this.renderCurrencyOptions(),this.renderAmountOptions(),this.renderAmount(),this.renderButton())}}]),n}(p.Component);t["default"]=M},{"./definitions":"/var/www/site/js/shared/definitions.js","bem-prefixer":"bem-prefixer",react:"react","react-markup":"react-markup"}]},{},["/var/www/site/js/entry-help.js"]);